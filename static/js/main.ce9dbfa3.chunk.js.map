{"version":3,"sources":["constants/font-size.ts","constants/storage.ts","store/selectors/app.ts","providers/AuthLoginProvider.tsx","store/selectors/network.ts","utils/encryption.ts","utils/storage-service.ts","constants/font-weight.ts","utils/styles.ts","components/ionic/Label.tsx","components/MainMenu.tsx","components/ProtectedRoute.tsx","hooks/use-is-mounted.ts","components/ionic/Text.tsx","components/DetailCards.tsx","components/ionic/Title.tsx","components/Header.tsx","components/ionic/Img.tsx","constants/images.ts","store/selectors/collections.ts","utils/icons.ts","utils/map-utils.ts","pages/CardDetails.tsx","store/actions/asset-claim.ts","components/CardTag.tsx","store/selectors/asset-claim.ts","store/selectors/transaction.ts","pages/CollectCardPage.tsx","store/actions/collections.ts","components/Card.tsx","components/ionic/Button.tsx","components/SortBy.tsx","components/HomeCollections.tsx","hooks/use-constant.ts","components/Tabs.tsx","store/actions/app.ts","pages/HomePage.tsx","hooks/use-media-query.ts","components/Keypad.tsx","components/ionic/ErrorMessage.tsx","components/ionic/Input.tsx","store/actions/namespace.ts","utils/crypto-utils.ts","providers/AuthRegisterProvider.tsx","pages/PasscodePage.tsx","store/actions/wallets.ts","utils/utils.ts","components/Passphrase.tsx","pages/PassphrasePage.tsx","store/selectors/wallets.ts","pages/ProfilePage.tsx","pages/QrCodeGeneratorPage.tsx","pages/ScanQRPage.tsx","pages/UsernamePage.tsx","pages/WelcomePage.tsx","App.tsx","serviceWorker.ts","store/actions/transaction.ts","store/epics/app.ts","store/actions/network.ts","store/epics/asset-claim.ts","store/epics/collections.ts","store/services/protokol-connection.ts","store/epics/namespace.ts","store/epics/helpers.ts","store/epics/network.ts","store/epics/transaction.ts","store/epics/wallets.ts","store/epics/index.ts","store/reducers/app.ts","store/reducers/asset-claim.ts","store/reducers/collections.ts","store/reducers/network.ts","store/reducers/transaction.ts","store/reducers/wallets.ts","store/reducers/index.ts","store/configure-store.ts","index.tsx","../node_modules/@ionic/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object"],"names":["FontSize","StorageKeys","STORAGE_VERSION","process","STORAGE_PREFIX","AuthLoginState","baseUrlSelector","state","app","baseUrl","encodedUserPrivateKeySelector","userPrivateKey","usernameSelector","username","nodeCryptoConfigurationSelector","network","nodeCryptoConfiguration","Encryption","pin","utils","hex","fromBytes","SHA256","asBytes","toEncode","hash","encodedBytes","ModeOfOperation","ctr","toBytes","encrypt","utf8","toDecode","decodedBytes","decrypt","storage","localStorage","set","key","value","serializedValue","JSON","stringify","setItem","error","Error","get","getItem","parse","removeItem","clear","FontWeight","authLoginProviderInitialState","session","Unknown","AuthLoginContext","createContext","window","sessionStorage","AuthLoginContextProvider","children","useState","setState","encodedPrivateKey","useSelector","shallowEqual","useEffect","NeedRegistration","unlock","useCallback","encodedPin","encodedPassphrase","nodeConfig","decoded","decode","passphrase","pubKeyHash","address","ArkCrypto","Identities","Address","fromPassphrase","publicKey","PublicKey","LoggedIn","console","warn","PIN","PinProtected","setPin","providerState","useMemo","Provider","Styles","fontSize","XL","SM","XS","serializeLineHeight","fontWeight","Label","styled","IonLabel","serializeFontSize","serializeFontWeight","Menu","IonMenu","MenuHeaderToolbar","IonToolbar","MenuContentToolbar","IonContent","MenuCloseButton","IonButton","MenuItemIcon","IonIcon","MenuItemLabel","MenuItem","icon","label","navigateTo","onMenuClose","history","useHistory","onNavigateClick","push","lines","class","color","slot","className","onClick","MainMenu","useContext","homeMenuRef","useRef","e","preventDefault","current","close","ref","menuRef","side","content-id","menu-id","arrowBackOutline","homeOutline","personOutline","ProtectedRoute","Component","component","requiresCordova","rest","isPlatform","isOpen","onDidDismiss","replace","message","duration","render","props","to","useIsMounted","isMounted","Text","IonText","DetailCardsStyled","IonRow","DetailCardStyled","IonCol","DetailsCardInner","div","isGrayBg","isBlueBg","isDescription","DetailsIconCardInner","DetailCard","title","subtitle","description","BOLD","XXS","DetailIconCard","size","DetailCards","Title","IonTitle","HeaderToolbar","SubHeaderToolbar","Header","buttonTopLeft","menu","auto-hide","menuOutline","searchOutline","L","Img","img","welcomeImagePath1x","driverImage1x","driverHighResImage1x","addGHPagesPrefix","location","hostname","addIPFSGatewayPrefix","ipfsHash","welcomeImage","alt","src","srcSet","driverHighResImage","collectionSelector","collections","Icons","LOCATION_ICON_SVG","LOCATION_BASE_64","btoa","MapUtils","MapStyles","AssetClaimActions","IonColCards","GoogleMapContainer","CardDetails","assetId","useParams","assets","flat","find","id","attributes","unix","timestamp","ipfsHashImageFront","carNumber","season","issuedLocation","issuedAddress","lng","issuedLocationLng","lat","issuedLocationLat","onGoogleMapsLoaded","maps","map","Marker","position","LatLng","url","fillColor","scaledSize","Size","fullscreen","format","Date","locationOutline","options","styles","disableDefaultUI","scrollwheel","disableDoubleClickZoom","draggable","fullscreenControl","bootstrapURLKeys","defaultCenter","defaultZoom","onGoogleApiLoaded","yesIWantToUseGoogleMapApiInternals","CardTagType","ClaimAssetErrorAction","type","CLAIM_ASSET_ERROR","payload","assetClaimSelector","assetClaim","transactionsSelector","transaction","transactions","ImageBgCol","txUuid","uuid","CollectCardPage","collectionId","dispatch","useDispatch","assetClaimRequest","tx","isLoading","isError","recipientId","CLAIM_ASSET","ClaimAssetAction","XXL","CardTagStyled","CardTagText","CollectionsActions","tagTypeToColor","Signed","Limited","None","CardTag","viewBox","preserveAspectRatio","xmlns","x","y","width","height","transform","fill","CardStyled","CardTitle","CardSubTitle","CardAvailabilityTitle","Card","details","imgIpfsHash","Button","radius","List","ul","ListItem","li","ListItemHeader","ListItemOption","active","SortBy","defaultIndex","setActive","option","index","isActive","CollectionsLoadAction","pubKey","query","COLLECTIONS_LOAD","CollectionsLoadErrorAction","COLLECTIONS_LOAD_ERROR","CardContainer","Footer","IonFooter","CollectablesIonRow","HomeCollections","isLastPage","loadNextPage","page","flatAssets","onCardsScroll","target","scrollHeight","scrollTop","clientHeight","onScroll","length","tags","Array","isArray","expand","useConstant","fn","v","AppActions","TabsStyled","tabsLength","toFixed","from","_","join","TabsState","Elements","tabs","panels","TabsContextProvider","outerState","innerState","elements","Tabs","Tab","activeIndex","tabIndex","currentIndex","useTabState","isValidElement","cloneElement","Panel","usePanelState","Content","isDarkBg","TabTitle","StartCollectionButton","BannerCol","BannerText","ActionButton","HomeContent","setActiveIndex","HomePage","isBrowser","useMediaQuery","defaultState","matchMedia","matches","mounted","mql","onChange","addEventListener","removeEventListener","keypadNumbers","KeypadNumberBtn","disabled","Keypad","onEnter","isMedium","isLarge","canAddPinNumber","addPinNumber","digit","prevPin","deletePinNumber","slice","getColPadding","keypadDigit","toString","offset","FormInputError","Input","IonInput","NamespaceActions","SetEncodedUserPrivateKeyAction","saveToStorage","SET_ENCODED_USER_PRIVATE_KEY","SetUsernameAction","SET_USERNAME","CryptoUtils","bip39","undefined","WORDLIST_DEFAULT_LANGUAGE","wallet","Utils","BigNumber","make","nonce","plus","ONE","word","filter","w","startsWith","PasscodeSteps","authRegisterProviderInitialState","AuthRegisterContext","AuthRegisterContextProvider","authLoginSetPin","reset","setUsername","prevState","setPassphrase","generatePassphrase","passphraseJson","encoded","encode","name","NAMESPACE_REGISTER","NamespaceRegisterAction","WalletsActions","PasscodePage","withConfirm","loginSetPin","Passcode","step","setStep","useForm","defaultValues","passcode","confirmPasscode","mode","control","handleSubmit","errors","watch","register","clearErrors","submitForm","required","pattern","validate","ConfirmPasscode","getTitle","getSubTitle","onSubmit","hidden","readonly","rules","uniqueIdIdentifier","prefix","ms","Promise","resolve","setTimeout","PassphraseBackground","SuggestBtn","SuggestionsRow","Passphrase","words","wordIndex","suggestions","setSuggestions","wordElRefs","setWordElRefs","wordElRef","i","createRef","trim","toLowerCase","setFocus","$el","a","wait","word0","moveToNextWord","setWordByIndex","onFillSuggestedWord","onPassphraseWordChange","passphraseIndex","suggestWords","onKeyDown","event","keyCode","charCode","String","fromCharCode","which","metaKey","ctrlKey","navigator","clipboard","readText","then","text","split","catch","err","data-number","onIonChange","detail","suggestion","PassphrasePage","isValidPassphrase","WalletsLoadSuccessAction","WALLETS_LOAD_SUCCESS","WalletsLoadErrorAction","WALLETS_LOAD_ERROR","walletsSelector","wallets","ProfilePage","hasOwnProperty","WALLETS_LOAD","cardsLength","nft","base","tokenIds","Object","keys","walletUsername","nameservice","QRCodeStyled","QRCode","QR_CODE_SIZE","QrCodeGeneratorPage","renderAs","ScanQRPage","scanSubscription","QRScanner","prepare","status","authorized","show","document","querySelector","classList","add","scan","subscribe","denied","onInitQrScanner","unsubscribe","remove","hide","destroy","UsernamePage","formState","isValid","placeholder","WelcomePage","routerLink","SplashScreen","Plugins","App","lockOrientation","ScreenOrientation","lock","ORIENTATIONS","PORTRAIT_PRIMARY","SET_BASE_URL","path","exact","Boolean","match","TransactionActions","epics","action$","state$","pipe","ofType","withLatestFrom","distinctUntilChanged","tap","encodedUserPrivateKey","PRIVATE_KEY","ignoreElements","first","switchMap","of","USERNAME","NetworkActions","TransactionWaitForConfirmAction","txId","TRANSACTION_WAIT_FOR_CONFIRM","action","stateBaseUrl","fromFetch","headers","selector","response","json","method","body","data","accepted","accept","merge","CLAIM_ASSET_SUCCESS","invalid","catchError","connection","defer","NFTBaseApi","walletAssets","q","limit","COLLECTIONS_LOAD_SUCCESS","CollectionsLoadSuccessAction","timeout","ProtokolConnection","withOptions","addressOrPublicKey","api","getWallet","NameserviceCrypto","Builders","NameserviceBuilder","Nameservice","getWalletNextNonce","sign","TRANSACTION_SUBMIT","TransactionSubmitAction","getStruct","LoadNetworkConfigurationAction","LOAD_NETWORK_CONFIGURATION","NETWORK_CONFIGURATION_SUCCESS","exceptions","milestones","Managers","configManager","setConfig","genesisBlock","getPreset","setHeight","Transactions","TransactionRegistry","registerTransactionType","NameserviceTransaction","forkJoin","crypto","last","cryptoResponse","blockResponse","NETWORK_CONFIGURATION_ERROR","cancel$","Subject","timer","takeUntil","timeoutWith","addSeconds","now","throwError","exhaustMap","next","complete","TRANSACTION_CONFIRM_SUCCESS","TransactionConfirmSuccessAction","EMPTY","TRANSACTION_CONFIRM_ERROR","TransactionConfirmErrorAction","create","combineEpics","appEpics","networkEpics","assetClaimEpics","transactionEpics","namespaceEpics","collectionsEpics","walletEpics","initialState","reducer","isConfirmed","combineReducers","epicMiddleware","createEpicMiddleware","dependencies","setupConfig","store","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","rootReducer","applyMiddleware","run","rootEpic","configureStore","ReactDOM","getElementById","serviceWorker","ready","registration","unregister","webpackAsyncContext","req","__webpack_require__","o","code","ids","module","exports"],"mappings":"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","file":"static/js/main.ce9dbfa3.chunk.js","sourcesContent":["export enum FontSize {\n  XXL = '2.625rem', // 42px\n  XL = '2rem', // 32px\n  L = '1.3125rem', // 21px\n  M = '0.9375rem', // 15px\n  SM = '0.75rem', // 12px\n  XS = '0.6875rem', // 11px\n  XXS = '0.4375rem', // 7px\n}\n","const STORAGE_VERSION = process.env.STORAGE_VERSION || 0;\nconst STORAGE_PREFIX = `collectibles-mobile-v${STORAGE_VERSION}::`;\n\nenum StorageKeys {\n  PRIVATE_KEY = 'pk',\n  PIN = 'pin',\n  USERNAME = 'username',\n}\n\nexport { STORAGE_PREFIX, StorageKeys };\n","import { RootState } from '../types';\n\nexport const baseUrlSelector = (state: RootState) => state.app.baseUrl;\nexport const encodedUserPrivateKeySelector = (state: RootState) =>\n  state.app.userPrivateKey;\nexport const usernameSelector = (state: RootState) => state.app.username;\n","import {\n  createContext,\n  FC,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { NodeCryptoConfiguration } from '@arkecosystem/client/dist/resourcesTypes/node';\nimport { StorageKeys } from '../constants/storage';\nimport {\n  encodedUserPrivateKeySelector,\n  usernameSelector,\n} from '../store/selectors/app';\nimport { nodeCryptoConfigurationSelector } from '../store/selectors/network';\nimport { ArkCrypto } from '../store/services/crypto';\nimport { Encryption } from '../utils/encryption';\nimport storage from '../utils/storage-service';\n\nexport enum AuthLoginState {\n  Unknown,\n  NeedRegistration,\n  PinProtected,\n  LoggedIn,\n  Error,\n}\n\ninterface AuthLoginProviderState {\n  session: {\n    state: AuthLoginState;\n    error: Error | null;\n    address?: string;\n    passphrase?: string;\n    publicKey?: string;\n    username?: string | null;\n  };\n}\n\ninterface AuthLoginProviderContext {\n  readonly session: AuthLoginProviderState['session'];\n  setPin: (pin: string) => void;\n}\n\nconst authLoginProviderInitialState: AuthLoginProviderState = {\n  session: {\n    state: AuthLoginState.Unknown,\n    error: null,\n  },\n};\n\nexport const AuthLoginContext = createContext<AuthLoginProviderContext>(\n  {} as AuthLoginProviderContext\n);\n\nconst session = storage(window.sessionStorage);\n\nconst AuthLoginContextProvider: FC = ({ children }) => {\n  const [state, setState] = useState<AuthLoginProviderState>({\n    ...authLoginProviderInitialState,\n  });\n\n  const encodedPrivateKey = useSelector(\n    encodedUserPrivateKeySelector,\n    shallowEqual\n  );\n  const nodeCryptoConfiguration = useSelector(\n    nodeCryptoConfigurationSelector,\n    shallowEqual\n  );\n  const username = useSelector(usernameSelector, shallowEqual);\n\n  useEffect(() => {\n    if (encodedPrivateKey === null) {\n      setState({\n        session: {\n          state: AuthLoginState.NeedRegistration,\n          error: null,\n        },\n      });\n    }\n  }, [encodedPrivateKey]);\n\n  const unlock = useCallback(\n    (\n      encodedPin: string,\n      encodedPassphrase: string,\n      nodeConfig: NodeCryptoConfiguration,\n      username: string | null\n    ) => {\n      try {\n        const decoded = Encryption.decode(encodedPassphrase, encodedPin);\n        const { passphrase } = JSON.parse(decoded);\n\n        const { network } = nodeConfig;\n        const { pubKeyHash } = network;\n        const address = ArkCrypto.Identities.Address.fromPassphrase(\n          passphrase,\n          pubKeyHash\n        );\n        const publicKey = ArkCrypto.Identities.PublicKey.fromPassphrase(\n          passphrase\n        );\n\n        setState({\n          session: {\n            state: AuthLoginState.LoggedIn,\n            error: null,\n            address,\n            passphrase,\n            publicKey,\n            username,\n          },\n        });\n      } catch (error) {\n        console.warn('decode failed', error);\n\n        setState({\n          session: {\n            state: AuthLoginState.Error,\n            error,\n          },\n        });\n      } finally {\n        session.removeItem(StorageKeys.PIN);\n      }\n    },\n    []\n  );\n\n  useEffect(() => {\n    const encodedPin = session.get<string>(StorageKeys.PIN);\n\n    if (!encodedPin && encodedPrivateKey && nodeCryptoConfiguration) {\n      setState({\n        session: {\n          state: AuthLoginState.PinProtected,\n          error: null,\n        },\n      });\n    }\n  }, [encodedPrivateKey, nodeCryptoConfiguration]);\n\n  useEffect(() => {\n    const encodedPin = session.get<string>(StorageKeys.PIN);\n\n    if (encodedPin && encodedPrivateKey && nodeCryptoConfiguration) {\n      unlock(encodedPin, encodedPrivateKey, nodeCryptoConfiguration, username);\n    }\n  }, [\n    encodedPrivateKey,\n    nodeCryptoConfiguration,\n    unlock,\n    state.session,\n    username,\n  ]);\n\n  const setPin = useCallback((pin: string) => {\n    session.set(StorageKeys.PIN, Encryption.hash(pin));\n\n    setState({\n      ...authLoginProviderInitialState,\n    });\n  }, []);\n\n  const providerState: AuthLoginProviderContext = useMemo(\n    () => ({\n      session: state.session,\n      setPin,\n    }),\n    [state.session, setPin]\n  );\n\n  return (\n    <AuthLoginContext.Provider value={providerState}>\n      {children}\n    </AuthLoginContext.Provider>\n  );\n};\n\nexport default AuthLoginContextProvider;\n","import { RootState } from '../types';\n\nexport const nodeCryptoConfigurationSelector = (state: RootState) =>\n  state.network.nodeCryptoConfiguration;\n","import { ModeOfOperation, utils } from 'aes-js';\nimport SHA256 from 'sha256';\n\nexport abstract class Encryption {\n  static hash(pin: string) {\n    return utils.hex.fromBytes(SHA256(pin, { asBytes: true }));\n  }\n\n  static encode(toEncode: string, hash: string) {\n    const encodedBytes = new ModeOfOperation.ctr(\n      utils.hex.toBytes(hash)\n    ).encrypt(utils.utf8.toBytes(toEncode));\n    return utils.hex.fromBytes(encodedBytes);\n  }\n\n  static decode(toDecode: string, hash: string) {\n    const decodedBytes = new ModeOfOperation.ctr(\n      utils.hex.toBytes(hash)\n    ).decrypt(utils.hex.toBytes(toDecode));\n    return utils.utf8.fromBytes(decodedBytes);\n  }\n}\n","import { STORAGE_PREFIX, StorageKeys } from '../constants/storage';\n\nconst storage = (storage = localStorage) => {\n  const set = <T = any>(key: StorageKeys, value: T): void => {\n    try {\n      const serializedValue = JSON.stringify(value);\n      storage.setItem(`${STORAGE_PREFIX}${key}`, serializedValue);\n    } catch (error) {\n      throw new Error(`Failed to serialize value for key: \"${key}\"`);\n    }\n  };\n\n  const get = <T = any>(key: StorageKeys): T | undefined => {\n    try {\n      const serializedValue = storage.getItem(`${STORAGE_PREFIX}${key}`);\n      if (!serializedValue) {\n        return;\n      }\n      return JSON.parse(serializedValue);\n    } catch (error) {\n      throw new Error(`Failed to deserialize value for key: \"${key}\"`);\n    }\n  };\n\n  const removeItem = (key: StorageKeys) => {\n    storage.removeItem(`${STORAGE_PREFIX}${key}`);\n  };\n\n  const clear = () => {\n    storage.clear();\n  };\n\n  return {\n    set,\n    get,\n    removeItem,\n    clear,\n  };\n};\n\nexport default storage;\n","export enum FontWeight {\n  NORMAL = '400',\n  BOLD = '700',\n}\n","import { FontSize } from '../constants/font-size';\nimport { FontWeight } from '../constants/font-weight';\n\nexport abstract class Styles {\n  static serializeLineHeight(fontSize?: FontSize) {\n    switch (fontSize) {\n      case FontSize.XL:\n        return 'line-height: 2.0625rem;';\n      case FontSize.SM:\n        return 'line-height: 1.125rem;';\n      case FontSize.XS:\n        return 'line-height: 95%;';\n      default:\n        return '';\n    }\n  }\n\n  static serializeFontSize(fontSize?: FontSize) {\n    if (!fontSize) {\n      return undefined;\n    }\n    return `\n      ${Styles.serializeLineHeight(fontSize)}\n      font-size: ${fontSize} !important;\n    `;\n  }\n\n  static serializeFontWeight(fontWeight?: FontWeight) {\n    if (!fontWeight) {\n      return undefined;\n    }\n    return `font-weight: ${fontWeight};`;\n  }\n}\n","import styled from 'styled-components';\nimport { IonLabel } from '@ionic/react';\nimport { FontSize } from '../../constants/font-size';\nimport { FontWeight } from '../../constants/font-weight';\nimport { Styles } from '../../utils/styles';\n\nconst Label = styled(IonLabel)<{\n  fontSize?: FontSize;\n  fontWeight?: FontWeight;\n}>`\n  ${({ fontSize }) => Styles.serializeFontSize(fontSize)}\n  ${({ fontWeight }) => Styles.serializeFontWeight(fontWeight)}\n`;\n\nexport default Label;\n","import { arrowBackOutline, homeOutline, personOutline } from 'ionicons/icons';\nimport { FC, useCallback, useContext, useRef } from 'react';\nimport { useHistory } from 'react-router';\nimport styled from 'styled-components';\nimport {\n  IonButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonIcon,\n  IonItem,\n  IonList,\n  IonMenu,\n  IonToolbar,\n} from '@ionic/react';\nimport { FontSize } from '../constants/font-size';\nimport {\n  AuthLoginContext,\n  AuthLoginState,\n} from '../providers/AuthLoginProvider';\nimport Label from './ionic/Label';\n\nconst Menu = styled(IonMenu)`\n  --background: var(--app-color-dark-cyan-blue);\n  --max-width: 70vw;\n`;\n\nconst MenuHeaderToolbar = styled(IonToolbar)`\n  --background: var(--app-color-dark-cyan-blue);\n`;\n\nconst MenuContentToolbar = styled(IonContent)`\n  --background: var(--app-color-dark-cyan-blue);\n`;\n\nconst MenuCloseButton = styled(IonButton)`\n  &&&& {\n    margin-left: 1rem;\n    margin-top: 0.5rem;\n    margin-bottom: 0.75rem;\n  }\n`;\n\nconst MenuItemIcon = styled(IonIcon)`\n  &&&& {\n    margin-left: 1rem;\n    margin-right: 1.25rem;\n  }\n`;\n\nconst MenuItemLabel = styled(Label)`\n  &&&& {\n    margin-top: 1.125rem;\n    margin-bottom: 1.125rem;\n  }\n`;\n\nconst MenuItem: FC<{\n  icon: string;\n  label: string;\n  navigateTo?: string;\n  onMenuClose: () => void;\n}> = ({ icon, label, navigateTo, onMenuClose }) => {\n  const history = useHistory();\n\n  const onNavigateClick = useCallback(\n    (navigateTo) => {\n      history.push(navigateTo);\n    },\n    [history]\n  );\n\n  return (\n    <IonItem lines=\"none\" class=\"app-bg-color-transparent\">\n      <MenuItemIcon color=\"light\" icon={icon} slot=\"start\" />\n      <MenuItemLabel\n        className=\"ion-text-uppercase\"\n        color=\"light\"\n        fontSize={FontSize.SM}\n        onClick={() => {\n          if (navigateTo) {\n            onNavigateClick(navigateTo);\n            onMenuClose();\n          }\n        }}\n      >\n        {label}\n      </MenuItemLabel>\n    </IonItem>\n  );\n};\n\nconst MainMenu: FC = () => {\n  const {\n    session: { state },\n  } = useContext(AuthLoginContext);\n\n  const homeMenuRef = useRef<HTMLIonMenuElement | null>();\n\n  const onMenuClose = useCallback(\n    (e?) => {\n      if (e) {\n        e.preventDefault();\n      }\n\n      if (!homeMenuRef.current) {\n        return;\n      }\n\n      homeMenuRef.current.close(true);\n    },\n    [homeMenuRef]\n  );\n\n  if (state !== AuthLoginState.LoggedIn) {\n    return <></>;\n  }\n\n  return (\n    <Menu\n      ref={(menuRef) => {\n        homeMenuRef.current = menuRef;\n      }}\n      side=\"start\"\n      content-id=\"main-content\"\n      menu-id=\"main-menu\"\n    >\n      <IonHeader className=\"ion-no-border\">\n        <MenuHeaderToolbar>\n          <IonButtons slot=\"start\">\n            <MenuCloseButton onClick={(e) => onMenuClose(e)}>\n              <IonIcon color=\"light\" slot=\"icon-only\" icon={arrowBackOutline} />\n            </MenuCloseButton>\n          </IonButtons>\n        </MenuHeaderToolbar>\n      </IonHeader>\n      <MenuContentToolbar>\n        <IonList color=\"none\" class=\"app-bg-color-transparent\">\n          <MenuItem\n            icon={homeOutline}\n            label=\"Home\"\n            navigateTo=\"/home\"\n            onMenuClose={onMenuClose}\n          />\n          <MenuItem\n            icon={personOutline}\n            label=\"My Profile\"\n            navigateTo=\"/home/profile\"\n            onMenuClose={onMenuClose}\n          />\n        </IonList>\n      </MenuContentToolbar>\n    </Menu>\n  );\n};\n\nexport default MainMenu;\n","import { FC, useContext } from 'react';\nimport { useHistory } from 'react-router';\nimport { Redirect, Route, RouteProps } from 'react-router-dom';\nimport { IonLoading, isPlatform, IonToast } from '@ionic/react';\nimport {\n  AuthLoginContext,\n  AuthLoginState,\n} from '../providers/AuthLoginProvider';\n\nconst ProtectedRoute: FC<any> = ({\n  component: Component,\n  requiresCordova,\n  ...rest\n}: {\n  requiresCordova?: boolean;\n  component: FC<RouteProps>;\n}) => {\n  const {\n    session: { state },\n  } = useContext(AuthLoginContext);\n  const history = useHistory();\n\n  if (requiresCordova && !isPlatform('cordova')) {\n    return (\n      <IonToast\n        isOpen={true}\n        onDidDismiss={() => history.replace('/')}\n        message=\"This feature requires to be run on native platform(iOS, Android)!\"\n        duration={2000}\n      />\n    );\n  }\n\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        switch (state) {\n          case AuthLoginState.LoggedIn:\n            return <Component {...props} />;\n          case AuthLoginState.NeedRegistration:\n            return <Redirect to=\"/welcome\" push={false} />;\n          case AuthLoginState.PinProtected:\n          case AuthLoginState.Error:\n            return <Redirect to=\"/passcode\" push={false} />;\n          case AuthLoginState.Unknown:\n          default:\n            return <IonLoading isOpen={true} message={'Please wait...'} />;\n        }\n      }}\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import { useEffect, useRef } from 'react';\n\nconst useIsMounted = () => {\n  const isMounted = useRef(false);\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n};\n\nexport default useIsMounted;\n","import styled from 'styled-components';\nimport { IonText } from '@ionic/react';\nimport { FontSize } from '../../constants/font-size';\nimport { FontWeight } from '../../constants/font-weight';\nimport { Styles } from '../../utils/styles';\n\nconst Text = styled(IonText)<{ fontSize?: FontSize; fontWeight?: FontWeight }>`\n  display: inline-block;\n  ${({ fontSize }) => Styles.serializeFontSize(fontSize)}\n  ${({ fontWeight }) => Styles.serializeFontWeight(fontWeight)}\n`;\n\nexport default Text;\n","import { FC } from 'react';\nimport styled from 'styled-components';\nimport { JSX } from '@ionic/core';\nimport { IonRow, IonCol, IonIcon } from '@ionic/react';\nimport { FontSize } from '../constants/font-size';\nimport { FontWeight } from '../constants/font-weight';\nimport Text from './ionic/Text';\n\nconst DetailCardsStyled = styled(IonRow)`\n  display: flex;\n`;\n\nconst DetailCardStyled = styled(IonCol)`\n  flex-grow: 1;\n  padding: 0.25rem;\n`;\n\nconst DetailsCardInner = styled.div<{\n  isDescription?: boolean;\n  isGrayBg?: boolean;\n  isBlueBg?: boolean;\n}>`\n  ${({ isGrayBg, isBlueBg }) => {\n    if (isGrayBg) {\n      return 'background: var(--app-color-gray);';\n    } else if (isBlueBg) {\n      return 'background: var(--app-color-blue-bg);';\n    } else {\n      return 'background: var(--app-color-charade);';\n    }\n  }}\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  height: 100%;\n\n  ${({ isDescription }) => `text-align: ${isDescription ? 'left' : 'center'};`}\n\n  ${({ isDescription }) => {\n    if (isDescription) {\n      return 'padding: 1.65rem 1.15rem;';\n    }\n\n    return 'padding: 2.7rem 0.55rem;';\n  }}\n`;\n\nconst DetailsIconCardInner = styled.div<{\n  isGrayBg?: boolean;\n  isBlueBg?: boolean;\n}>`\n  background: var(--app-color-charade);\n\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: center;\n  overflow: hidden;\n  height: 100%;\n  padding: 1.25rem 1.75rem;\n\n  .text {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    justify-content: center;\n    padding-left: 1rem;\n\n    ion-text {\n      &:first-child {\n        padding-bottom: 0.25rem;\n      }\n    }\n  }\n`;\n\nconst DetailCard: FC<\n  JSX.IonCol & {\n    title?: string;\n    subtitle?: string;\n    description?: string;\n    isGrayBg?: boolean;\n    isBlueBg?: boolean;\n    onClick?: () => void;\n  }\n> = ({\n  title,\n  subtitle,\n  description,\n  isGrayBg,\n  isBlueBg,\n  onClick,\n  ...props\n}) => {\n  return (\n    <DetailCardStyled {...props}>\n      <DetailsCardInner\n        isGrayBg={isGrayBg}\n        isBlueBg={isBlueBg}\n        isDescription={!!description}\n        onClick={onClick}\n      >\n        {subtitle && (\n          <Text\n            fontSize={FontSize.SM}\n            fontWeight={FontWeight.BOLD}\n            color=\"light\"\n          >\n            {subtitle}\n          </Text>\n        )}\n        {title && (\n          <Text\n            className=\"ion-text-capitalize\"\n            fontSize={FontSize.XXS}\n            color=\"light\"\n          >\n            {title}\n          </Text>\n        )}\n        {description && (\n          <Text fontSize={FontSize.SM} color=\"light\">\n            {description}\n          </Text>\n        )}\n      </DetailsCardInner>\n    </DetailCardStyled>\n  );\n};\n\nconst DetailIconCard: FC<\n  JSX.IonCol & {\n    title?: string;\n    subtitle?: string;\n    icon?: string;\n  }\n> = ({ title, subtitle, icon, ...props }) => {\n  return (\n    <DetailCardStyled {...props}>\n      <DetailsIconCardInner>\n        {icon && (\n          <IonIcon size=\"large\" color=\"light\" slot=\"icon-only\" icon={icon} />\n        )}\n        <div className=\"text\">\n          {title && (\n            <Text\n              className=\"ion-text-capitalize\"\n              fontSize={FontSize.SM}\n              color=\"light\"\n            >\n              {title}\n            </Text>\n          )}\n          {subtitle && (\n            <Text\n              className=\"ion-text-capitalize\"\n              fontSize={FontSize.XXS}\n              color=\"light\"\n            >\n              {subtitle}\n            </Text>\n          )}\n        </div>\n      </DetailsIconCardInner>\n    </DetailCardStyled>\n  );\n};\n\nconst DetailCards: FC = ({ children }) => {\n  return (\n    <DetailCardsStyled className=\"ion-padding-horizontal ion-no-margin\">\n      {children}\n    </DetailCardsStyled>\n  );\n};\n\nexport {\n  DetailCards,\n  DetailIconCard,\n  DetailCard,\n  DetailCardsStyled,\n  DetailCardStyled,\n  DetailsCardInner,\n};\n","import styled from 'styled-components';\nimport { IonTitle } from '@ionic/react';\nimport { FontSize } from '../../constants/font-size';\nimport { FontWeight } from '../../constants/font-weight';\nimport { Styles } from '../../utils/styles';\n\nconst Title = styled(IonTitle)<{\n  fontSize?: FontSize;\n  fontWeight?: FontWeight;\n}>`\n  ${({ fontSize }) => Styles.serializeFontSize(fontSize)}\n  ${({ fontWeight }) => Styles.serializeFontWeight(fontWeight)}\n`;\n\nexport default Title;\n","import { menuOutline, searchOutline } from 'ionicons/icons';\nimport { FC } from 'react';\nimport styled from 'styled-components';\nimport {\n  IonButton,\n  IonButtons,\n  IonHeader,\n  IonIcon,\n  IonMenuButton,\n  IonToolbar,\n} from '@ionic/react';\nimport { FontSize } from '../constants/font-size';\nimport Title from './ionic/Title';\n\nconst HeaderToolbar = styled(IonToolbar)`\n  --background: var(--app-color-dark-cyan-blue);\n`;\n\nconst SubHeaderToolbar = styled(IonToolbar)`\n  display: flex;\n  align-items: center;\n  max-height: 2.25rem;\n  --background: var(--app-color-dark-cyan-blue);\n`;\n\nconst Header: FC<{\n  title?: string;\n  buttonTopLeft?: JSX.Element;\n}> = ({ children, title, buttonTopLeft }) => {\n  return (\n    <IonHeader className=\"ion-no-border\">\n      <HeaderToolbar>\n        <IonButtons slot=\"start\">\n          {buttonTopLeft ? (\n            <>{buttonTopLeft}</>\n          ) : (\n            <IonMenuButton menu=\"main-menu\" auto-hide=\"false\">\n              <IonIcon color=\"light\" icon={menuOutline} />\n            </IonMenuButton>\n          )}\n        </IonButtons>\n        <IonButtons slot=\"primary\">\n          <IonButton>\n            <IonIcon color=\"light\" slot=\"icon-only\" icon={searchOutline} />\n          </IonButton>\n        </IonButtons>\n\n        <Title color=\"light\" fontSize={FontSize.L} className=\"ion-text-center\">\n          {title}\n        </Title>\n      </HeaderToolbar>\n      {children && (\n        <SubHeaderToolbar className=\"ion-no-padding\">\n          {children}\n        </SubHeaderToolbar>\n      )}\n    </IonHeader>\n  );\n};\n\nexport default Header;\n","import styled from 'styled-components';\n\nconst Img = styled.img`\n  height: auto;\n  width: 100%;\n  object-fit: cover;\n`;\n\nexport default Img;\n","const welcomeImagePath1x = '/assets/images/welcome-screen.png';\nconst welcomeImagePath2x = '/assets/images/welcome-screen@2x.png';\n\nconst driverImage1x = '/assets/images/driver.png';\nconst driverImage2x = '/assets/images/driver@2x.png';\n\nconst driverHighResImage1x = '/assets/images/driver-high-res.png';\nconst driverHighResImage2x = '/assets/images/driver-high-res@2x.png';\n\nconst addGHPagesPrefix = () => {\n  if (window.location.hostname === 'protokol.github.io') {\n    return '/collectibles-mobile';\n  }\n  return '';\n};\n\nconst addIPFSGatewayPrefix = (ipfsHash: string) =>\n  `https://gateway.pinata.cloud/ipfs/${ipfsHash}`;\n\nconst welcomeImage = {\n  alt: 'Welcome',\n  src: `${addGHPagesPrefix()}${welcomeImagePath1x}`,\n  srcSet: `${addGHPagesPrefix()}${welcomeImagePath1x} 1x, ${addGHPagesPrefix()}${welcomeImagePath2x} 2x`,\n};\n\nconst driverImage = {\n  alt: 'Driver',\n  src: `${addGHPagesPrefix()}${driverImage1x}`,\n  srcSet: `${addGHPagesPrefix()}${driverImage1x} 1x, ${addGHPagesPrefix()}${driverImage2x} 2x`,\n};\n\nconst driverHighResImage = {\n  alt: 'Driver',\n  src: `${addGHPagesPrefix()}${driverHighResImage1x}`,\n  srcSet: `${addGHPagesPrefix()}${driverHighResImage1x} 1x, ${addGHPagesPrefix()}${driverHighResImage2x} 2x`,\n};\n\nexport { addIPFSGatewayPrefix, welcomeImage, driverImage, driverHighResImage };\n","import { RootState } from '../types';\n\nexport const collectionSelector = ({ collections }: RootState) => collections;\n","export abstract class Icons {\n  static LOCATION_ICON_SVG = `<?xml version=\"1.0\" encoding=\"iso-8859-1\"?> <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;\" xml:space=\"preserve\"> <g> <g> <path fill=\"white\" d=\"M256,0C156.748,0,76,80.748,76,180c0,33.534,9.289,66.26,26.869,94.652l142.885,230.257 c2.737,4.411,7.559,7.091,12.745,7.091c0.04,0,0.079,0,0.119,0c5.231-0.041,10.063-2.804,12.75-7.292L410.611,272.22 C427.221,244.428,436,212.539,436,180C436,80.748,355.252,0,256,0z M384.866,256.818L258.272,468.186l-129.905-209.34 C113.734,235.214,105.8,207.95,105.8,180c0-82.71,67.49-150.2,150.2-150.2S406.1,97.29,406.1,180 C406.1,207.121,398.689,233.688,384.866,256.818z\"/> </g> </g> <g> <g> <path fill=\"white\" d=\"M256,90c-49.626,0-90,40.374-90,90c0,49.309,39.717,90,90,90c50.903,0,90-41.233,90-90C346,130.374,305.626,90,256,90z M256,240.2c-33.257,0-60.2-27.033-60.2-60.2c0-33.084,27.116-60.2,60.2-60.2s60.1,27.116,60.1,60.2 C316.1,212.683,289.784,240.2,256,240.2z\"/> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>`;\n  static LOCATION_BASE_64 = 'data:image/svg+xml;charset=UTF-8;base64,' + btoa(Icons.LOCATION_ICON_SVG)\n}\n","export abstract class MapUtils {\n  static MapStyles = () => [\n    {\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#262732\"\n        }\n      ]\n    },\n    {\n      \"elementType\": \"labels\",\n      \"stylers\": [\n        {\n          \"visibility\": \"off\"\n        }\n      ]\n    },\n    {\n      \"elementType\": \"labels.icon\",\n      \"stylers\": [\n        {\n          \"visibility\": \"off\"\n        }\n      ]\n    },\n    {\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#757575\"\n        }\n      ]\n    },\n    {\n      \"elementType\": \"labels.text.stroke\",\n      \"stylers\": [\n        {\n          \"color\": \"#262732\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"administrative\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#262732\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"administrative.country\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#9e9e9e\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"administrative.land_parcel\",\n      \"stylers\": [\n        {\n          \"visibility\": \"off\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"administrative.locality\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#bdbdbd\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"administrative.neighborhood\",\n      \"stylers\": [\n        {\n          \"visibility\": \"off\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"poi\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#757575\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"poi.business\",\n      \"stylers\": [\n        {\n          \"visibility\": \"off\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#262732\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"labels.text\",\n      \"stylers\": [\n        {\n          \"visibility\": \"off\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#616161\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"labels.text.stroke\",\n      \"stylers\": [\n        {\n          \"color\": \"#1b1b1b\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#51525B\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#8a8a8a\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.arterial\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#51525B\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.arterial\",\n      \"elementType\": \"labels\",\n      \"stylers\": [\n        {\n          \"visibility\": \"off\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.highway\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#51525B\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.highway\",\n      \"elementType\": \"labels\",\n      \"stylers\": [\n        {\n          \"visibility\": \"off\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.highway.controlled_access\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#51525B\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.local\",\n      \"stylers\": [\n        {\n          \"visibility\": \"off\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.local\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#616161\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"transit\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#757575\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"water\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#000000\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"water\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#3d3d3d\"\n        }\n      ]\n    }\n  ]\n}\n","import { format } from 'date-fns';\nimport GoogleMap from 'google-map-react';\nimport { arrowBackOutline, locationOutline } from 'ionicons/icons';\nimport { FC, useCallback, useMemo } from 'react';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router';\nimport styled from 'styled-components';\nimport {\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonPage,\n  IonRow,\n  IonIcon,\n  IonButton,\n} from '@ionic/react';\nimport { BaseResourcesTypes } from '@protokol/client';\nimport {\n  DetailCard,\n  DetailCards,\n  DetailIconCard,\n} from '../components/DetailCards';\nimport Header from '../components/Header';\nimport Img from '../components/ionic/Img';\nimport { addIPFSGatewayPrefix } from '../constants/images';\nimport { collectionSelector } from '../store/selectors/collections';\nimport { Icons } from '../utils/icons';\nimport { MapUtils } from '../utils/map-utils';\n\nconst IonColCards = styled(IonCol)`\n  --padding-start: 0.5rem;\n  padding-top: 0.5rem;\n`;\n\nconst GoogleMapContainer = styled.div`\n  height: 300px;\n  width: 100%;\n  padding: 0.25rem 1.25rem 2rem;\n`;\n\nconst CardDetails: FC = () => {\n  const { assetId } = useParams<{ assetId: string }>();\n  const history = useHistory();\n  const { assets } = useSelector(collectionSelector, shallowEqual);\n  const {\n    attributes,\n    timestamp: { unix },\n  } = useMemo(() => assets.flat().find(({ id }) => id === assetId), [\n    assets,\n    assetId,\n  ]) as BaseResourcesTypes.Assets;\n\n  const {\n    ipfsHashImageFront,\n    title,\n    carNumber,\n    season,\n    issuedLocation,\n    issuedAddress,\n    description,\n    issuedLocationLng: lng,\n    issuedLocationLat: lat,\n  } = attributes as any;\n\n  const onGoogleMapsLoaded = useCallback(\n    (maps, map) => {\n      new maps.Marker({\n        position: new maps.LatLng(lat, lng),\n        map,\n        title: issuedLocation,\n        icon: {\n          url: Icons.LOCATION_BASE_64,\n          fillColor: 'white',\n          scaledSize: new maps.Size(20, 20),\n        },\n      });\n    },\n    [lat, lng, issuedLocation]\n  );\n\n  return (\n    <IonPage>\n      <Header\n        title={title}\n        buttonTopLeft={\n          <IonButton onClick={() => history.replace('/home')}>\n            <IonIcon color=\"light\" slot=\"icon-only\" icon={arrowBackOutline} />\n          </IonButton>\n        }\n      />\n\n      <IonContent fullscreen>\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow>\n            <IonCol className=\"ion-no-padding\" size=\"12\">\n              <Img src={addIPFSGatewayPrefix(ipfsHashImageFront)} />\n            </IonCol>\n            <IonColCards className=\"ion-no-padding ion-no-margin\" size=\"12\">\n              <DetailCards>\n                <DetailCard size=\"4\" title=\"CAR NUMBER\" subtitle={carNumber} />\n                <DetailCard size=\"4\" title=\"SEASON\" subtitle={season} />\n                <DetailCard\n                  size=\"4\"\n                  title=\"COLLECTED ON\"\n                  subtitle={format(new Date(unix), 'MM/dd/yyyy')}\n                />\n              </DetailCards>\n              <DetailCards>\n                <DetailCard size=\"12\" description={description} />\n              </DetailCards>\n              <DetailCards>\n                <DetailIconCard\n                  size=\"12\"\n                  icon={locationOutline}\n                  title={issuedLocation}\n                  subtitle={issuedAddress}\n                />\n              </DetailCards>\n            </IonColCards>\n            {lat && lng && (\n              <IonCol size=\"12\">\n                <GoogleMapContainer>\n                  <GoogleMap\n                    options={{\n                      styles: MapUtils.MapStyles(),\n                      disableDefaultUI: true,\n                      scrollwheel: false,\n                      disableDoubleClickZoom: true,\n                      draggable: false,\n                      fullscreenControl: false,\n                    }}\n                    bootstrapURLKeys={{\n                      key: 'AIzaSyAzYuxD62y_TmSlgLXhfXywHrNLCsR4a40',\n                    }}\n                    defaultCenter={{\n                      lat,\n                      lng,\n                    }}\n                    defaultZoom={13}\n                    onGoogleApiLoaded={({ maps, map }) =>\n                      onGoogleMapsLoaded(maps, map)\n                    }\n                    yesIWantToUseGoogleMapApiInternals\n                  />\n                </GoogleMapContainer>\n              </IonCol>\n            )}\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default CardDetails;\n","import { Action } from 'redux';\n\n// Actions\nenum AssetClaimActions {\n  CLAIM_ASSET = '@AssetClaim/CLAIM_ASSET',\n  CLAIM_ASSET_SUCCESS = '@AssetClaim/CLAIM_ASSET_SUCCESS',\n  CLAIM_ASSET_ERROR = '@AssetClaim/CLAIM_ASSET_ERROR',\n}\n\nexport interface ClaimAssetActionType\n  extends Action<AssetClaimActions.CLAIM_ASSET> {\n  payload: {\n    collectionId: string;\n    recipientId: string;\n    txUuid: string;\n  };\n}\n\nexport interface ClaimAssetSuccessActionType\n  extends Action<AssetClaimActions.CLAIM_ASSET_SUCCESS> {\n  payload: {\n    txId: string;\n  };\n}\n\nexport interface ClaimAssetErrorActionType\n  extends Action<AssetClaimActions.CLAIM_ASSET_ERROR> {\n  payload: {\n    error: Error;\n  };\n}\n\n// Action creators\nconst ClaimAssetAction = (\n  collectionId: string,\n  recipientId: string,\n  txUuid: string\n): ClaimAssetActionType => ({\n  type: AssetClaimActions.CLAIM_ASSET,\n  payload: {\n    collectionId,\n    recipientId,\n    txUuid,\n  },\n});\n\nconst ClaimAssetSuccessAction = (\n  txId: string\n): ClaimAssetSuccessActionType => ({\n  type: AssetClaimActions.CLAIM_ASSET_SUCCESS,\n  payload: {\n    txId,\n  },\n});\n\nconst ClaimAssetErrorAction = (error: Error): ClaimAssetErrorActionType => ({\n  type: AssetClaimActions.CLAIM_ASSET_ERROR,\n  payload: {\n    error,\n  },\n});\n\nexport type CLAIM_ASSET_ACTION_TYPES = ClaimAssetActionType &\n  ClaimAssetSuccessActionType &\n  ClaimAssetErrorActionType;\n\nexport {\n  AssetClaimActions,\n  ClaimAssetAction,\n  ClaimAssetSuccessAction,\n  ClaimAssetErrorAction,\n};\n","import { FC } from 'react';\nimport styled from 'styled-components';\nimport Text from './ionic/Text';\n\nconst CardTagStyled = styled.div`\n  position: absolute;\n  width: 56%;\n  top: -5%;\n  right: -5%;\n`;\n\nconst CardTagText = styled(Text)`\n  position: absolute;\n  top: 15%;\n  right: 29%;\n  font-size: 0.625rem;\n`;\n\nexport enum CardTagType {\n  None = 'none',\n  Signed = 'signed',\n  Limited = 'limited',\n}\n\nconst tagTypeToColor = (type?: CardTagType) => {\n  switch (type) {\n    case CardTagType.Signed:\n      return '#8AC827';\n    case CardTagType.Limited:\n      return '#FCCF45';\n    case CardTagType.None:\n    default:\n      return '';\n  }\n};\n\nconst CardTag: FC<{ type?: CardTagType }> = ({ type = CardTagType.None }) =>\n  type !== CardTagType.None ? (\n    <CardTagStyled>\n      <svg\n        viewBox=\"0 0 2000 500\"\n        preserveAspectRatio=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <rect\n          x=\"190\"\n          y=\"0\"\n          width=\"90%\"\n          height=\"100%\"\n          transform=\"skewX(-20)\"\n          fill={tagTypeToColor(type)}\n        />\n      </svg>\n      <CardTagText color=\"light\" className=\"ion-text-uppercase\">\n        {type}!\n      </CardTagText>\n    </CardTagStyled>\n  ) : (\n    <></>\n  );\n\nexport default CardTag;\n","import { RootState } from '../types';\n\nexport const assetClaimSelector = ({ assetClaim }: RootState) => assetClaim;\n","import { RootState } from '../types';\n\nexport const transactionsSelector = ({\n  transaction: { transactions },\n}: RootState) => transactions;\n","import { arrowBackOutline } from 'ionicons/icons';\nimport { FC, useCallback, useContext, useEffect, useMemo } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useParams } from 'react-router';\nimport styled from 'styled-components';\nimport { v4 as uuid } from 'uuid';\nimport {\n  IonCol,\n  IonContent,\n  IonGrid,\n  IonPage,\n  IonRow,\n  IonSpinner,\n  IonIcon,\n  IonButton,\n} from '@ionic/react';\nimport Header from '../components/Header';\nimport Text from '../components/ionic/Text';\nimport { FontSize } from '../constants/font-size';\nimport { driverHighResImage } from '../constants/images';\nimport useIsMounted from '../hooks/use-is-mounted';\nimport { AuthLoginContext } from '../providers/AuthLoginProvider';\nimport { ClaimAssetAction } from '../store/actions/asset-claim';\nimport { assetClaimSelector } from '../store/selectors/asset-claim';\nimport { transactionsSelector } from '../store/selectors/transaction';\n\nconst ImageBgCol = styled(IonCol)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: calc(100vh - 56px);\n  overflow: hidden;\n  z-index: 3;\n  text-align: center;\n\n  &:before {\n    content: ' ';\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100vh;\n    height: 100vh;\n    z-index: 1;\n    background-image: url('${driverHighResImage.src}');\n    background-size: 100vh auto;\n    background-repeat: no-repeat;\n    background-position: 0 -70%;\n    transform: rotate(-90deg);\n  }\n\n  &:after {\n    content: ' ';\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 2;\n    opacity: 0.75;\n    background-color: var(--app-color-black);\n  }\n\n  > * {\n    z-index: 3;\n  }\n`;\n\nconst txUuid = uuid();\n\nconst CollectCardPage: FC = () => {\n  const { collectionId } = useParams<{ collectionId: string }>();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const assetClaimRequest = useSelector(assetClaimSelector, shallowEqual);\n  const transactions = useSelector(transactionsSelector, shallowEqual);\n  const tx = useMemo(() => transactions[txUuid], [transactions]);\n\n  const isLoading = useCallback(() => {\n    return assetClaimRequest?.isLoading || tx?.isLoading;\n  }, [assetClaimRequest, tx]);\n\n  const isError = useCallback(() => {\n    return assetClaimRequest?.isError || tx?.isError;\n  }, [assetClaimRequest, tx]);\n\n  const error = useCallback(() => {\n    return `${assetClaimRequest?.error}${tx?.error}`;\n  }, [assetClaimRequest, tx]);\n\n  const {\n    session: { address },\n  } = useContext(AuthLoginContext);\n\n  const isMounted = useIsMounted();\n  useEffect(() => {\n    if (isMounted && collectionId && address) {\n      dispatch(ClaimAssetAction(collectionId, address!, txUuid));\n    }\n  }, [isMounted, dispatch, collectionId, address]);\n\n  return (\n    <IonPage>\n      <Header\n        title=\"Collect Cards\"\n        buttonTopLeft={\n          <IonButton onClick={() => history.replace('/home')}>\n            <IonIcon color=\"light\" slot=\"icon-only\" icon={arrowBackOutline} />\n          </IonButton>\n        }\n      />\n\n      <IonContent fullscreen>\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow>\n            <ImageBgCol size=\"12\">\n              {isLoading() && <IonSpinner color=\"light\" />}\n              {!isLoading() && isError() && (\n                <>\n                  <Text color=\"danger\" fontSize={FontSize.XXL}>\n                    Something went wrong!\n                  </Text>\n                  <Text\n                    className=\"ion-padding-top\"\n                    fontSize={FontSize.SM}\n                    color=\"light\"\n                  >\n                    {error}\n                  </Text>\n                </>\n              )}\n              {!isLoading() && !isError() && (\n                <>\n                  <Text color=\"success\" fontSize={FontSize.XXL}>\n                    Hooray!\n                  </Text>\n                  <Text\n                    className=\"ion-padding-top\"\n                    fontSize={FontSize.L}\n                    color=\"light\"\n                  >\n                    You just received a new hero card!\n                  </Text>\n                </>\n              )}\n            </ImageBgCol>\n          </IonRow>\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default CollectCardPage;\n","import { Action } from 'redux';\nimport { BaseResourcesTypes } from '@protokol/client';\n\n// Actions\nenum CollectionsActions {\n  COLLECTIONS_LOAD = '@Collections/COLLECTIONS_LOAD',\n  COLLECTIONS_LOAD_SUCCESS = '@Collections/COLLECTIONS_LOAD_SUCCESS',\n  COLLECTIONS_LOAD_ERROR = '@Collections/COLLECTIONS_LOAD_ERROR',\n}\n\nexport interface CollectionsLoadActionType\n  extends Action<CollectionsActions.COLLECTIONS_LOAD> {\n  payload: {\n    query?: BaseResourcesTypes.AllAssetsQuery;\n    pubKey: string;\n  };\n}\n\nexport interface CollectionsLoadSuccessActionType\n  extends Action<CollectionsActions.COLLECTIONS_LOAD_SUCCESS> {\n  payload: {\n    query: BaseResourcesTypes.AllAssetsQuery;\n    assets: BaseResourcesTypes.Assets[];\n    isLastPage: boolean;\n  };\n}\n\nexport interface CollectionsLoadErrorActionType\n  extends Action<CollectionsActions.COLLECTIONS_LOAD_ERROR> {\n  payload: {\n    error: Error;\n  };\n}\n\n// Action creators\nconst CollectionsLoadAction = (\n  pubKey: string,\n  query?: BaseResourcesTypes.AllAssetsQuery\n): CollectionsLoadActionType => ({\n  type: CollectionsActions.COLLECTIONS_LOAD,\n  payload: {\n    query,\n    pubKey,\n  },\n});\n\nconst CollectionsLoadSuccessAction = (\n  query: BaseResourcesTypes.AllAssetsQuery,\n  assets: BaseResourcesTypes.Assets[],\n  isLastPage = false\n): CollectionsLoadSuccessActionType => ({\n  type: CollectionsActions.COLLECTIONS_LOAD_SUCCESS,\n  payload: {\n    query,\n    assets,\n    isLastPage,\n  },\n});\n\nconst CollectionsLoadErrorAction = (\n  error: Error\n): CollectionsLoadErrorActionType => ({\n  type: CollectionsActions.COLLECTIONS_LOAD_ERROR,\n  payload: {\n    error,\n  },\n});\n\nexport type COLLECTIONS_ACTION_TYPES = CollectionsLoadActionType &\n  CollectionsLoadSuccessActionType &\n  CollectionsLoadErrorActionType;\n\nexport {\n  CollectionsActions,\n  CollectionsLoadAction,\n  CollectionsLoadSuccessAction,\n  CollectionsLoadErrorAction,\n};\n","import { FC } from 'react';\nimport { useHistory } from 'react-router';\nimport styled from 'styled-components';\nimport { FontSize } from '../constants/font-size';\nimport { FontWeight } from '../constants/font-weight';\nimport { addIPFSGatewayPrefix } from '../constants/images';\nimport CardTag, { CardTagType } from './CardTag';\nimport Img from './ionic/Img';\nimport Title from './ionic/Title';\n\nconst CardStyled = styled.div`\n  position: relative;\n  overflow: visible;\n`;\n\nconst CardTitle = styled(Title)`\n  font-size: 0.875rem;\n  padding-bottom: 0.1rem;\n`;\n\nconst CardSubTitle = styled(Title)`\n  padding-bottom: 0.1rem;\n`;\n\nconst CardAvailabilityTitle = styled(Title)`\n  font-size: 0.625rem;\n  font-style: italic;\n  opacity: 0.5;\n  padding-bottom: 0.1rem;\n`;\n\nconst Card: FC<{\n  id: string;\n  title: string;\n  subtitle: string;\n  imgIpfsHash: string;\n  details?: string;\n  type?: CardTagType;\n}> = ({ id, title, subtitle, details, imgIpfsHash, type }) => {\n  const history = useHistory();\n\n  return (\n    <CardStyled onClick={() => history.push(`/home/card/${id}`)}>\n      <CardTag type={type} />\n      <Img src={addIPFSGatewayPrefix(imgIpfsHash)} />\n      {title && (\n        <CardTitle\n          className=\"ion-no-padding ion-text-left\"\n          fontWeight={FontWeight.BOLD}\n        >\n          {title}\n        </CardTitle>\n      )}\n      {subtitle && (\n        <CardSubTitle className=\"ion-no-padding\" fontSize={FontSize.SM}>\n          {subtitle}\n        </CardSubTitle>\n      )}\n      {details && (\n        <CardAvailabilityTitle className=\"ion-no-padding\">\n          {details}\n        </CardAvailabilityTitle>\n      )}\n    </CardStyled>\n  );\n};\n\nexport default Card;\n","import styled from 'styled-components';\nimport { IonButton } from '@ionic/react';\nimport { FontSize } from '../../constants/font-size';\nimport { FontWeight } from '../../constants/font-weight';\nimport { Styles } from '../../utils/styles';\n\nconst Button = styled(IonButton)<{\n  fontSize?: FontSize;\n  fontWeight?: FontWeight;\n  radius?: boolean;\n}>`\n  &::part(native) {\n  }\n\n  ${({ radius = true }) =>\n    radius ? '--border-radius: 0.25rem;' : '--border-radius: 0;'}\n\n  &[size='large'] {\n    height: 4.8rem;\n    --padding-top: 1rem;\n    --padding-bottom: 1rem;\n  }\n\n  ${({ fontSize }) => Styles.serializeFontSize(fontSize)}\n  ${({ fontWeight }) => Styles.serializeFontWeight(fontWeight)}\n`;\n\nexport default Button;\n","import { FC, useState } from 'react';\nimport styled from 'styled-components';\nimport { FontSize } from '../constants/font-size';\nimport Button from './ionic/Button';\nimport Text from './ionic/Text';\n\nconst List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  margin-bottom: 0;\n  list-style: none;\n`;\n\nconst ListItem = styled.li`\n  flex: 1 1 auto;\n  text-align: center;\n\n  &.center {\n    justify-content: center;\n    display: flex;\n    align-items: center;\n  }\n`;\n\nconst ListItemHeader = styled(Text)`\n  padding-top: 0.45rem;\n`;\n\nconst ListItemOption = styled(Button)<{\n  active: boolean;\n}>`\n  ${({ active }) => {\n    if (active) {\n      return `\n        text-decoration: underline;\n      `;\n    }\n    return `color: var(--app-color-charade);`;\n  }}\n`;\n\nconst SortBy: FC<{\n  options: string[];\n  defaultIndex?: number;\n}> = ({ options, defaultIndex = 0 }) => {\n  const [active, setActive] = useState(defaultIndex);\n\n  return (\n    <List>\n      <ListItem>\n        <ListItemHeader fontSize={FontSize.SM}>Sort by:</ListItemHeader>\n      </ListItem>\n\n      {options.map((option, index) => {\n        const isActive = active === index;\n\n        return (\n          <ListItem key={option}>\n            <ListItemOption\n              active={isActive}\n              color={isActive ? 'danger' : ''}\n              size=\"small\"\n              fill=\"clear\"\n              className=\"ion-text-capitalize ion-no-margin\"\n              fontSize={FontSize.SM}\n              radius={false}\n              onClick={() => setActive(index)}\n            >\n              {option}\n            </ListItemOption>\n          </ListItem>\n        );\n      })}\n    </List>\n  );\n};\n\nexport default SortBy;\n","import { FC, useCallback, useContext, useEffect, useMemo } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport styled from 'styled-components';\nimport {\n  IonCol,\n  IonFooter,\n  IonGrid,\n  IonRow,\n  IonSpinner,\n  IonToolbar,\n} from '@ionic/react';\nimport Card from '../components/Card';\nimport SortBy from '../components/SortBy';\nimport Button from '../components/ionic/Button';\nimport { FontSize } from '../constants/font-size';\nimport { FontWeight } from '../constants/font-weight';\nimport useIsMounted from '../hooks/use-is-mounted';\nimport { AuthLoginContext } from '../providers/AuthLoginProvider';\nimport { CollectionsLoadAction } from '../store/actions/collections';\nimport { collectionSelector } from '../store/selectors/collections';\nimport { CardTagType } from './CardTag';\nimport Text from './ionic/Text';\n\nconst CardContainer = styled(IonCol)`\n  padding: 1.375rem;\n\n  &:nth-child(odd) {\n    padding-left: 0.6875rem;\n  }\n  &:nth-child(even) {\n    padding-right: 0.6875rem;\n  }\n`;\n\nconst Footer = styled(IonFooter)`\n  position: fixed;\n  bottom: 0;\n`;\n\nconst CollectablesIonRow = styled(IonRow)`\n  overflow: auto;\n  max-height: calc(100vh - 92px - 4.8rem);\n`;\n\nconst HomeCollections: FC = () => {\n  const history = useHistory();\n  const { isError, error, isLoading, assets, isLastPage, query } = useSelector(\n    collectionSelector,\n    shallowEqual\n  );\n  const dispatch = useDispatch();\n  const {\n    session: { publicKey },\n  } = useContext(AuthLoginContext);\n\n  const isMounted = useIsMounted();\n  useEffect(() => {\n    if (publicKey && isMounted) {\n      dispatch(CollectionsLoadAction(publicKey!));\n    }\n  }, [isMounted, dispatch, publicKey]);\n\n  const loadNextPage = useCallback(() => {\n    if (publicKey) {\n      const { page } = query ?? { page: 1 };\n      dispatch(\n        CollectionsLoadAction(publicKey!, {\n          ...query,\n          page: page! + 1,\n        })\n      );\n    }\n  }, [query, dispatch, publicKey]);\n\n  const flatAssets = useMemo(() => assets.flat(), [assets]);\n\n  const onCardsScroll = useCallback(\n    ({ target }) => {\n      const isBottom =\n        target.scrollHeight - target.scrollTop === target.clientHeight;\n      if (isBottom && !isLastPage && !isLoading) {\n        loadNextPage();\n      }\n    },\n    [loadNextPage, isLastPage, isLoading]\n  );\n\n  return (\n    <>\n      <IonGrid className=\"ion-no-padding\">\n        <CollectablesIonRow onScroll={onCardsScroll}>\n          {!isLoading && isError && (\n            <IonCol size=\"12\" class=\"ion-text-center ion-padding-top\">\n              <Text color=\"danger\" fontSize={FontSize.XXL}>\n                Something went wrong!\n              </Text>\n              <Text\n                className=\"ion-padding-top\"\n                fontSize={FontSize.SM}\n                color=\"light\"\n              >\n                {error}\n              </Text>\n            </IonCol>\n          )}\n          {!isLoading && !!flatAssets.length && !isError && (\n            <>\n              <IonCol size=\"12\" className=\"ion-margin-bottom\">\n                <SortBy options={['All', 'Newest', 'Name', 'Team', 'Race']} />\n              </IonCol>\n              {flatAssets.map(({ id, attributes }) => {\n                const {\n                  title,\n                  subtitle,\n                  ipfsHashImageFront,\n                  tags,\n                } = attributes as any;\n\n                const type =\n                  Array.isArray(tags) && tags.length\n                    ? tags[0]\n                    : CardTagType.None;\n\n                return (\n                  <CardContainer key={id} size=\"6\">\n                    <Card\n                      id={id}\n                      title={title}\n                      subtitle={subtitle}\n                      imgIpfsHash={ipfsHashImageFront}\n                      type={type}\n                    />\n                  </CardContainer>\n                );\n              })}\n            </>\n          )}\n          {!isLoading && !flatAssets.length && !isError && (\n            <IonCol size=\"12\" class=\"ion-text-center\">\n              <Text\n                className=\"ion-padding-top\"\n                fontSize={FontSize.L}\n                color=\"primary\"\n              >\n                No collectables yet!\n              </Text>\n            </IonCol>\n          )}\n          {isLoading && !flatAssets.length && (\n            <IonCol size=\"12\" class=\"ion-text-center ion-padding-top\">\n              <IonSpinner color=\"primary\" />\n            </IonCol>\n          )}\n        </CollectablesIonRow>\n      </IonGrid>\n      <Footer className=\"ion-no-border\">\n        <IonToolbar>\n          <Button\n            color=\"primary\"\n            size=\"large\"\n            className=\"ion-text-uppercase ion-no-margin\"\n            fontSize={FontSize.SM}\n            fontWeight={FontWeight.BOLD}\n            radius={false}\n            expand=\"block\"\n            onClick={() => {\n              history.push('/home/scan-qr');\n            }}\n          >\n            Add new card\n          </Button>\n        </IonToolbar>\n      </Footer>\n    </>\n  );\n};\n\nexport default HomeCollections;\n","import { useRef } from 'react';\n\nexport default function useConstant<T>(fn: () => T): T {\n  const ref = useRef<{ v: T }>();\n\n  if (!ref.current) {\n    ref.current = { v: fn() };\n  }\n\n  return ref.current.v;\n}\n","import {\n  cloneElement,\n  createContext,\n  Dispatch,\n  FC,\n  isValidElement,\n  SetStateAction,\n  useContext,\n  useMemo,\n  useState,\n} from 'react';\nimport styled from 'styled-components';\nimport useConstant from '../hooks/use-constant';\n\nconst TabsStyled = styled.ul<{ tabsLength: number }>`\n  position: relative;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  background-color: --var(--app-dark-cyan-blue);\n\n  &:after {\n    content: ' ';\n    display: table;\n    clear: both;\n  }\n\n  > li {\n    float: left;\n    width: ${({ tabsLength }) => (100 / tabsLength).toFixed(2)}%;\n    padding-bottom: 0.25rem;\n    text-align: center;\n\n    &.slider {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 4px;\n      background-color: var(--ion-color-danger);\n      transform-origin: 0 0;\n      transition: transform 0.25s;\n    }\n\n    ${({ tabsLength }) =>\n      Array.from(\n        { length: tabsLength },\n        (_, index) => `\n      :nth-child(${index + 1}).active ~ .slider {\n        transform: translateX(calc(${(100 / tabsLength).toFixed(\n          2\n        )}% * ${index})) scaleX(${(100 / tabsLength / 100).toFixed(2)});\n}\n    `\n      ).join(' ')}\n  }\n`;\n\ntype UseNumberState = [number, Dispatch<SetStateAction<number>>];\ninterface ElementsStateContextType {\n  tabs: number;\n  panels: number;\n}\n\nexport const TabsState = createContext<UseNumberState>(([\n  0,\n  () => {},\n] as unknown) as UseNumberState);\nconst Elements = createContext<ElementsStateContextType>({\n  tabs: 0,\n  panels: 0,\n});\n\nexport const TabsContextProvider: FC<{ state?: UseNumberState }> = ({\n  state: outerState,\n  children,\n}) => {\n  const innerState = useState(0);\n  const elements = useConstant(() => ({ tabs: 0, panels: 0 }));\n  const state = outerState || innerState;\n\n  return (\n    <Elements.Provider value={elements}>\n      <TabsState.Provider value={state}>{children}</TabsState.Provider>\n    </Elements.Provider>\n  );\n};\n\nexport const useTabState = () => {\n  const [activeIndex, setActive] = useContext(TabsState);\n  const elements = useContext(Elements);\n\n  const tabIndex = useConstant(() => {\n    const currentIndex = elements.tabs;\n    elements.tabs += 1;\n\n    return currentIndex;\n  });\n\n  const onClick = useConstant(() => () => setActive(tabIndex));\n\n  return useMemo(\n    () => ({\n      isActive: activeIndex === tabIndex,\n      onClick,\n    }),\n    [activeIndex, onClick, tabIndex]\n  );\n};\n\nexport const usePanelState = () => {\n  const [activeIndex] = useContext(TabsState);\n  const elements = useContext(Elements);\n\n  const panelIndex = useConstant(() => {\n    const currentIndex = elements.panels;\n    elements.panels += 1;\n\n    return currentIndex;\n  });\n\n  return panelIndex === activeIndex;\n};\n\nexport const Tabs: FC = ({ children }) => {\n  const elements = useContext(Elements);\n\n  return (\n    <TabsStyled tabsLength={elements.tabs}>\n      {children}\n      <li className=\"slider\" />\n    </TabsStyled>\n  );\n};\n\nexport const Tab: FC = ({ children }) => {\n  const state = useTabState();\n\n  if (typeof children === 'function') {\n    return children(state);\n  }\n\n  const { isActive } = state;\n\n  return (\n    <li className={isActive ? 'active' : ''}>\n      {isValidElement(children) ? cloneElement(children, state) : children}\n    </li>\n  );\n};\n\nexport const Panel: FC<{ active?: boolean }> = ({ active, children }) => {\n  const isActive = usePanelState();\n\n  return isActive || active ? <>{children}</> : <></>;\n};\n","import { Action } from 'redux';\n\n// Actions\nenum AppActions {\n  SET_BASE_URL = '@App/SET_BASE_URL',\n  SET_ENCODED_USER_PRIVATE_KEY = '@App/SET_ENCODED_USER_PRIVATE_KEY',\n  SET_USERNAME = '@App/SET_USERNAME',\n}\n\nexport interface SetBaseUrlAppActionType\n  extends Action<AppActions.SET_BASE_URL> {\n  payload: {\n    baseUrl: string;\n  };\n}\n\nexport interface SetEncodedUserPrivateKeyActionType\n  extends Action<AppActions.SET_ENCODED_USER_PRIVATE_KEY> {\n  payload: {\n    userPrivateKey: string | null;\n    saveToStorage?: boolean;\n  };\n}\n\nexport interface SetUsernameActionType extends Action<AppActions.SET_USERNAME> {\n  payload: {\n    username: string | null;\n    saveToStorage?: boolean;\n  };\n}\n\n// Action creators\nconst SetBaseUrlAppAction = (baseUrl: string): SetBaseUrlAppActionType => ({\n  type: AppActions.SET_BASE_URL,\n  payload: {\n    baseUrl,\n  },\n});\n\nconst SetEncodedUserPrivateKeyAction = (\n  userPrivateKey: string | null,\n  saveToStorage = true\n): SetEncodedUserPrivateKeyActionType => ({\n  type: AppActions.SET_ENCODED_USER_PRIVATE_KEY,\n  payload: {\n    userPrivateKey,\n    saveToStorage,\n  },\n});\n\nconst SetUsernameAction = (\n  username: string | null,\n  saveToStorage = true\n): SetUsernameActionType => ({\n  type: AppActions.SET_USERNAME,\n  payload: {\n    username,\n    saveToStorage,\n  },\n});\n\nexport type APP_ACTION_TYPES = SetBaseUrlAppActionType &\n  SetEncodedUserPrivateKeyActionType &\n  SetUsernameActionType;\n\nexport {\n  AppActions,\n  SetBaseUrlAppAction,\n  SetEncodedUserPrivateKeyAction,\n  SetUsernameAction,\n};\n","import { FC, useContext } from 'react';\nimport { useHistory } from 'react-router';\nimport styled from 'styled-components';\nimport { JSX } from '@ionic/core';\nimport { IonCol, IonContent, IonGrid, IonPage, IonRow } from '@ionic/react';\nimport Header from '../components/Header';\nimport HomeCollections from '../components/HomeCollections';\nimport {\n  Panel,\n  Tab,\n  Tabs,\n  TabsContextProvider,\n  TabsState,\n} from '../components/Tabs';\nimport Button from '../components/ionic/Button';\nimport Label from '../components/ionic/Label';\nimport Text from '../components/ionic/Text';\nimport Title from '../components/ionic/Title';\nimport { FontSize } from '../constants/font-size';\nimport { FontWeight } from '../constants/font-weight';\nimport { welcomeImage } from '../constants/images';\n\nconst Content = styled(IonContent)<{\n  isDarkBg: boolean;\n}>`\n  ${({ isDarkBg }) =>\n    isDarkBg && '--background: var(--app-color-dark-cyan-blue);'}\n`;\n\nconst TabTitle = styled(Title)`\n  line-height: 2rem;\n`;\n\nconst ImageBgCol = styled(IonCol)`\n  position: relative;\n  padding: 3.5rem 2.05rem 1.85rem 1.5rem;\n  overflow: hidden;\n  z-index: 2;\n\n  &:after {\n    content: ' ';\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    opacity: 0.5;\n    background-image: url('${welcomeImage.src}');\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: 50% 0;\n  }\n\n  > * {\n    position: relative;\n    z-index: 2;\n  }\n`;\n\nconst StartCollectionButton = styled(Button)<JSX.IonButton>`\n  text-decoration: underline;\n`;\n\nconst BannerCol = styled(IonCol)`\n  padding: 2.25rem;\n  background: var(--ion-color-light);\n  text-align: center;\n`;\n\nconst BannerText = styled(Text)`\n  color: var(--app-color-gray);\n`;\n\nconst ActionButton = styled(Button)`\n  height: 3.4375rem;\n  --padding-top: 1.625rem;\n  --padding-bottom: 1.8125rem;\n\n  &.bg-gray {\n    --background: var(--app-color-gray);\n  }\n\n  &.bg-charade {\n    --background: var(--app-color-charade);\n  }\n\n  &.bg-dark-blue-magenta {\n    --background: var(--app-color-dark-blue-magenta);\n  }\n`;\n\nconst HomeContent: FC = () => {\n  const history = useHistory();\n  const [activeIndex, setActiveIndex] = useContext(TabsState);\n\n  return (\n    <Content id=\"main-content\" fullscreen isDarkBg={activeIndex <= 0}>\n      <Panel>\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow>\n            <ImageBgCol size=\"12\">\n              <Label\n                color=\"light\"\n                fontSize={FontSize.L}\n                fontWeight={FontWeight.BOLD}\n              >\n                Collecting Digital Hero Cards Is Easy!\n              </Label>\n              <br />\n              <Text\n                className=\"ion-margin-vertical\"\n                color=\"light\"\n                fontSize={FontSize.XS}\n              >\n                Now you can find your favourite cards via the official NASCAR\n                app, and digitally collect them! You can also scan QR codes at\n                races, or buy cards at the market place.\n              </Text>\n              <br />\n              <StartCollectionButton\n                className=\"ion-float-right\"\n                color=\"light\"\n                fill=\"clear\"\n                fontSize={FontSize.SM}\n                fontWeight={FontWeight.BOLD}\n                onClick={() => setActiveIndex(1)}\n              >\n                Start collecting\n              </StartCollectionButton>\n            </ImageBgCol>\n            <BannerCol>\n              <BannerText fontSize={FontSize.L} fontWeight={FontWeight.BOLD}>\n                Gentlemen,\n                <br />\n                start your engines\n              </BannerText>\n            </BannerCol>\n            <IonCol size=\"12\">\n              <ActionButton\n                expand=\"block\"\n                className=\"ion-text-uppercase ion-no-margin bg-gray\"\n                fontSize={FontSize.SM}\n                fontWeight={FontWeight.BOLD}\n                onClick={() => history.push('/home/scan-qr')}\n              >\n                Add new card\n              </ActionButton>\n              <ActionButton\n                expand=\"block\"\n                className=\"ion-text-uppercase ion-no-margin bg-dark-blue-magenta\"\n                fontSize={FontSize.SM}\n                fontWeight={FontWeight.BOLD}\n                onClick={() => history.push('/home/scan-qr')}\n              >\n                Scan qr code\n              </ActionButton>\n              {/*<ActionButton\n                    expand=\"block\"\n                    className=\"ion-text-uppercase ion-no-margin bg-charade\"\n                    fontSize={FontSize.SM}\n                    fontWeight={FontWeight.BOLD}\n                  >\n                    Buy a card\n                  </ActionButton>\n                  <ActionButton\n                    expand=\"block\"\n                    className=\"ion-text-uppercase ion-no-margin bg-gray\"\n                    fontSize={FontSize.SM}\n                    fontWeight={FontWeight.BOLD}\n                  >\n                    Earn a card\n                  </ActionButton>\n                  <ActionButton\n                    expand=\"block\"\n                    className=\"ion-text-uppercase ion-no-margin bg-dark-blue-magenta\"\n                    fontSize={FontSize.SM}\n                    fontWeight={FontWeight.BOLD}\n                  >\n                    Sell cards\n                  </ActionButton>\n                  <ActionButton\n                    expand=\"block\"\n                    className=\"ion-text-uppercase ion-no-margin bg-gray\"\n                    fontSize={FontSize.SM}\n                    fontWeight={FontWeight.BOLD}\n                  >\n                    Start an auction\n                  </ActionButton>*/}\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </Panel>\n\n      <Panel>\n        <HomeCollections />\n      </Panel>\n    </Content>\n  );\n};\n\nconst HomePage: FC = () => {\n  return (\n    <IonPage>\n      <TabsContextProvider>\n        <Header>\n          <Tabs>\n            <Tab>\n              <TabTitle\n                className=\"ion-text-uppercase ion-text-center\"\n                fontSize={FontSize.XS}\n                color=\"light\"\n              >\n                Home\n              </TabTitle>\n            </Tab>\n            <Tab>\n              <TabTitle\n                className=\"ion-text-uppercase ion-text-center\"\n                fontSize={FontSize.XS}\n                color=\"light\"\n              >\n                Collectables\n              </TabTitle>\n            </Tab>\n          </Tabs>\n        </Header>\n\n        <HomeContent />\n      </TabsContextProvider>\n    </IonPage>\n  );\n};\n\nexport default HomePage;\n","import { useEffect, useState } from 'react';\n\nexport const isBrowser = typeof window !== 'undefined';\n\nconst useMediaQuery = (query: string, defaultState: boolean = false) => {\n  const [state, setState] = useState(\n    isBrowser ? () => window.matchMedia(query).matches : defaultState\n  );\n\n  useEffect(() => {\n    let mounted = true;\n    const mql = window.matchMedia(query);\n    const onChange = () => {\n      if (!mounted) {\n        return;\n      }\n      setState(mql.matches);\n    };\n\n    mql.addEventListener('change', onChange);\n    setState(mql.matches);\n\n    return () => {\n      mounted = false;\n      mql.removeEventListener('change', onChange);\n    };\n  }, [query]);\n\n  return state;\n};\n\nexport default useMediaQuery;\n","import { FC, MouseEventHandler, useCallback, useEffect, useState } from 'react';\nimport { JSX } from '@ionic/core';\nimport { IonCol } from '@ionic/react';\nimport { FontSize } from '../constants/font-size';\nimport useMediaQuery from '../hooks/use-media-query';\nimport Button from './ionic/Button';\n\nconst MAX_PIN_LENGTH = 4;\n\nconst keypadNumbers: undefined[] = Array.from({ length: 9 });\n\nconst KeypadNumberBtn: FC<{\n  onClick: MouseEventHandler;\n  fontSize?: FontSize;\n  size?: JSX.IonButton['size'];\n  disabled?: boolean;\n}> = ({\n  children,\n  onClick,\n  fontSize = FontSize.L,\n  size = 'large',\n  disabled = false,\n}) => (\n  <Button\n    type=\"button\"\n    size={size}\n    expand=\"block\"\n    fill=\"clear\"\n    color=\"light\"\n    fontSize={fontSize}\n    onClick={(e) => {\n      e.preventDefault();\n      onClick(e);\n    }}\n    disabled={disabled}\n  >\n    {children}\n  </Button>\n);\n\nconst Keypad: FC<{\n  onChange: (pin: string) => void;\n  onEnter: () => void;\n}> = ({ onChange, onEnter }) => {\n  const [pin, setPin] = useState<string>('');\n  const isMedium = useMediaQuery('(min-height: 600px)');\n  const isLarge = useMediaQuery('(min-height: 700px)');\n\n  const canAddPinNumber = useCallback(() => MAX_PIN_LENGTH > pin.length, [pin]);\n\n  const addPinNumber = useCallback(\n    (digit: string) => {\n      if (canAddPinNumber()) {\n        setPin((prevPin) => `${prevPin}${digit}`);\n      }\n    },\n    [setPin, canAddPinNumber]\n  );\n\n  const deletePinNumber = useCallback(() => {\n    setPin((prevPin) => {\n      if (!prevPin.length) {\n        return '';\n      }\n      return prevPin.slice(0, -1);\n    });\n  }, [setPin]);\n\n  useEffect(() => {\n    onChange(pin);\n  }, [pin, onChange]);\n\n  const getColPadding = useCallback(() => {\n    if (!isLarge && isMedium) {\n      return 'ion-padding-vertical';\n    }\n    return '';\n  }, [isLarge, isMedium]);\n\n  return (\n    <>\n      {keypadNumbers.map((_, index) => {\n        const keypadDigit = (index + 1).toString();\n\n        return (\n          <IonCol key={index} size=\"4\" className={getColPadding()}>\n            <KeypadNumberBtn\n              size={isLarge ? 'large' : 'default'}\n              disabled={!canAddPinNumber()}\n              onClick={() => addPinNumber(keypadDigit)}\n            >\n              {keypadDigit}\n            </KeypadNumberBtn>\n          </IonCol>\n        );\n      })}\n      <IonCol size=\"4\" offset=\"4\" className={getColPadding()}>\n        <KeypadNumberBtn\n          size={isLarge ? 'large' : 'default'}\n          disabled={!canAddPinNumber()}\n          onClick={() => addPinNumber('0')}\n        >\n          0\n        </KeypadNumberBtn>\n      </IonCol>\n      <IonCol size=\"4\" offset=\"1\">\n        <KeypadNumberBtn\n          size=\"default\"\n          fontSize={FontSize.SM}\n          onClick={deletePinNumber}\n        >\n          Delete\n        </KeypadNumberBtn>\n      </IonCol>\n      <IonCol size=\"4\" offset=\"2\">\n        <KeypadNumberBtn\n          size=\"default\"\n          fontSize={FontSize.SM}\n          onClick={onEnter}\n        >\n          Enter\n        </KeypadNumberBtn>\n      </IonCol>\n    </>\n  );\n};\n\nexport default Keypad;\n","import { FC } from 'react';\nimport { FieldErrors } from 'react-hook-form/dist/types/errors';\nimport styled from 'styled-components';\nimport { ErrorMessage } from '@hookform/error-message';\nimport { FontSize } from '../../constants/font-size';\nimport { FontWeight } from '../../constants/font-weight';\nimport { Styles } from '../../utils/styles';\nimport Text from './Text';\n\nconst ErrorMessageWrapped: FC<{\n  name: string;\n  errors: FieldErrors;\n  className?: string;\n}> = (props) => (\n  <ErrorMessage\n    render={({ message }) => (\n      <Text className=\"ion-padding-top\" fontSize={FontSize.SM} color=\"danger\">\n        {message}\n      </Text>\n    )}\n    {...props}\n  />\n);\n\nconst FormInputError = styled(ErrorMessageWrapped)<{\n  fontSize?: FontSize;\n  fontWeight?: FontWeight;\n}>`\n  ${({ fontSize }) => Styles.serializeFontSize(fontSize)}\n  ${({ fontWeight }) => Styles.serializeFontWeight(fontWeight)}\n`;\n\nexport default FormInputError;\n","import styled from 'styled-components';\nimport { IonInput } from '@ionic/react';\nimport { FontSize } from '../../constants/font-size';\nimport { Styles } from '../../utils/styles';\n\nconst Input = styled(IonInput)<{\n  fontSize?: FontSize;\n}>`\n  &::part(input) {\n  }\n\n  --color: var(--ion-color-light);\n  --placeholder-color: var(--ion-color-light);\n  --background: var(--app-color-charade);\n  --padding-start: 1.375rem;\n  --padding-end: 1.375rem;\n  --padding-top: 1.1875rem;\n  --padding-bottom: 1.1875rem;\n\n  border: 1px solid var(--ion-color-light);\n\n  ${({ fontSize }) => Styles.serializeFontSize(fontSize)}\n\n  &.form-input- {\n    &prefix-username {\n      &:before {\n        content: '@';\n        position: absolute;\n        left: 0.65rem;\n      }\n    }\n\n    &transparent {\n      --padding-start: 0.5rem;\n      --padding-end: 0.5rem;\n\n      --placeholder-color: transparent;\n      --background: transparent;\n\n      border: none;\n\n      &.has-focus {\n        border-bottom: 1px solid var(--ion-color-light);\n      }\n    }\n  }\n\n  ${() =>\n    Array.from(\n      { length: 12 },\n      (_, index) => `\n      &.form-input-prefix-number-${index + 1} {\n      width: ${index + 1 >= 10 ? 'calc(100% - 2.5ch)' : 'calc(100% - 1.5ch)'};\n      margin-left: ${index + 1 >= 10 ? '2ch' : '1ch'};\n      \n      &:before {\n        content: '${index + 1}';\n        position: absolute;\n        left: -${index + 1 >= 10 ? '2ch' : '1ch'};\n      }\n    }\n    `\n    ).join(' ')}\n`;\n\nexport default Input;\n","import { Action } from 'redux';\nimport { v4 as uuid } from 'uuid';\n\n// Actions\nenum NamespaceActions {\n  NAMESPACE_REGISTER = '@Namespace/NAMESPACE_REGISTER',\n}\n\nexport interface NamespaceRegisterActionType\n  extends Action<NamespaceActions.NAMESPACE_REGISTER> {\n  payload: {\n    txUuid: string;\n    name: string;\n    passphrase: string;\n  };\n}\n\n// Action creators\nconst NamespaceRegisterAction = (\n  name: string,\n  passphrase: string,\n  txUuid: string = uuid()\n): NamespaceRegisterActionType => ({\n  type: NamespaceActions.NAMESPACE_REGISTER,\n  payload: {\n    txUuid,\n    name,\n    passphrase,\n  },\n});\n\nexport type NAMESPACE_ACTION_TYPES = NamespaceRegisterActionType;\n\nexport { NamespaceActions, NamespaceRegisterAction };\n","import * as bip39 from 'bip39';\nimport { Wallet } from '@arkecosystem/client';\nimport { ArkCrypto } from '../store/services/crypto';\n\nexport abstract class CryptoUtils {\n  static WORDLIST_DEFAULT_LANGUAGE = 'english';\n\n  static isValidPassphrase(passphrase: string) {\n    return bip39.validateMnemonic(passphrase);\n  }\n\n  static generatePassphrase() {\n    return bip39.generateMnemonic(\n      undefined,\n      undefined,\n      bip39.wordlists[CryptoUtils.WORDLIST_DEFAULT_LANGUAGE]\n    );\n  }\n\n  static getWalletNextNonce(wallet?: Wallet) {\n    return wallet\n      ? ArkCrypto.Utils.BigNumber.make(wallet.nonce).plus(1).toFixed()\n      : ArkCrypto.Utils.BigNumber.ONE.toFixed();\n  }\n\n  static suggestWords(word: string): string[] {\n    if(!word && word.length === 0) {\n      return [];\n    }\n\n    const dictionary = bip39.wordlists[CryptoUtils.WORDLIST_DEFAULT_LANGUAGE];\n    return dictionary.filter(\n      (w) =>\n        w.startsWith(word) && w !== word\n    ).slice(0, 12);\n  }\n}\n","import { createContext, FC, useCallback, useContext, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  SetEncodedUserPrivateKeyAction,\n  SetUsernameAction,\n} from '../store/actions/app';\nimport { NamespaceRegisterAction } from '../store/actions/namespace';\nimport { CryptoUtils } from '../utils/crypto-utils';\nimport { Encryption } from '../utils/encryption';\nimport { AuthLoginContext } from './AuthLoginProvider';\n\ninterface AuthRegisterProviderState {\n  username?: string;\n  passphrase?: string;\n}\n\ninterface AuthRegisterProviderContext {\n  readonly state: AuthRegisterProviderState;\n  setUsername: (username: string) => void;\n  setPassphrase: (passphrase: string) => void;\n  setPin: (pin: string) => void;\n  reset: () => void;\n}\n\nconst authRegisterProviderInitialState: AuthRegisterProviderState = {};\n\nexport const AuthRegisterContext = createContext<AuthRegisterProviderContext>(\n  {} as AuthRegisterProviderContext\n);\n\nconst AuthRegisterContextProvider: FC = ({ children }) => {\n  const [state, setState] = useState<AuthRegisterProviderState>({\n    ...authRegisterProviderInitialState,\n  });\n  const dispatch = useDispatch();\n  const { setPin: authLoginSetPin } = useContext(AuthLoginContext);\n\n  const reset = useCallback(() => {\n    setState({\n      ...authRegisterProviderInitialState,\n    });\n  }, [setState]);\n\n  const setUsername: AuthRegisterProviderContext['setUsername'] = useCallback(\n    (username) => {\n      setState((prevState) => ({\n        ...prevState,\n        username,\n      }));\n    },\n    [setState]\n  );\n\n  const setPassphrase: AuthRegisterProviderContext['setPassphrase'] = useCallback(\n    (passphrase) => {\n      setState((prevState) => ({\n        ...prevState,\n        passphrase,\n      }));\n    },\n    [setState]\n  );\n\n  const setPin: AuthRegisterProviderContext['setPin'] = useCallback(\n    (pin) => {\n      const passphrase = state.passphrase || CryptoUtils.generatePassphrase();\n\n      const passphraseJson = JSON.stringify({ passphrase });\n      const encoded = Encryption.encode(passphraseJson, Encryption.hash(pin));\n\n      dispatch(SetEncodedUserPrivateKeyAction(encoded));\n      dispatch(SetUsernameAction(state.username!, true));\n      authLoginSetPin(pin);\n\n      // TODO: Username registration will fail because new wallets have no balance\n      if (state.username) {\n        dispatch(NamespaceRegisterAction(state.username, passphrase));\n      }\n\n      reset();\n    },\n    [state, authLoginSetPin, dispatch, reset]\n  );\n\n  const providerState: AuthRegisterProviderContext = {\n    state,\n    setUsername,\n    setPin,\n    setPassphrase,\n    reset,\n  };\n\n  return (\n    <AuthRegisterContext.Provider value={providerState}>\n      {children}\n    </AuthRegisterContext.Provider>\n  );\n};\n\nexport default AuthRegisterContextProvider;\n","import { FC, useCallback, useContext, useEffect, useState } from 'react';\nimport { Controller, FieldValues, useForm } from 'react-hook-form';\nimport { useHistory } from 'react-router';\nimport styled from 'styled-components';\nimport { IonCol, IonContent, IonGrid, IonPage, IonRow } from '@ionic/react';\nimport Keypad from '../components/Keypad';\nimport FormInputError from '../components/ionic/ErrorMessage';\nimport Input from '../components/ionic/Input';\nimport Text from '../components/ionic/Text';\nimport { FontSize } from '../constants/font-size';\nimport { FontWeight } from '../constants/font-weight';\nimport {\n  AuthLoginContext,\n  AuthLoginState,\n} from '../providers/AuthLoginProvider';\nimport { AuthRegisterContext } from '../providers/AuthRegisterProvider';\n\nconst Content = styled(IonContent)`\n  --background: var(--app-color-charade);\n\n  & > ion-grid {\n    display: flex;\n    align-items: flex-end;\n    height: 100vh;\n    padding-bottom: 2rem;\n  }\n\n  & > ion-grid > ion-row {\n    > ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n\n  .form-input-pin {\n    width: 80%;\n    --padding-start: 2.375rem;\n    margin-left: auto;\n    margin-right: auto;\n    text-align: center;\n    letter-spacing: 1rem;\n  }\n`;\n\nenum PasscodeSteps {\n  Passcode,\n  ConfirmPasscode,\n}\n\ninterface PasscodeForm extends FieldValues {\n  passcode: string;\n  confirmPasscode?: string;\n}\n\nconst PasscodePage: FC<{\n  withConfirm?: boolean;\n}> = ({ withConfirm = false }) => {\n  const history = useHistory();\n  const { session, setPin: loginSetPin } = useContext(AuthLoginContext);\n  const { setPin } = useContext(AuthRegisterContext);\n  const { state } = session;\n\n  const [step, setStep] = useState<PasscodeSteps>(PasscodeSteps.Passcode);\n\n  const {\n    control,\n    handleSubmit,\n    errors,\n    watch,\n    register,\n    clearErrors,\n  } = useForm<PasscodeForm>({\n    defaultValues: {\n      passcode: '',\n      confirmPasscode: '',\n    },\n    mode: 'onSubmit',\n  });\n\n  const { passcode, confirmPasscode } = watch();\n\n  useEffect(() => {\n    if (\n      session &&\n      !session.error &&\n      session.state === AuthLoginState.LoggedIn\n    ) {\n      history.replace('/home');\n    }\n  }, [session, history]);\n\n  const submitForm = useCallback(\n    ({ passcode }: PasscodeForm) => {\n      if (withConfirm && step === PasscodeSteps.Passcode) {\n        register('confirmPasscode', {\n          required: 'Passcode is required!',\n          pattern: {\n            value: /^[0-9]{4}$/,\n            message: 'Passcode should be 4-digit number',\n          },\n          validate: (value) => value === passcode || 'Passcodes do not match',\n        });\n        setStep(PasscodeSteps.ConfirmPasscode);\n        clearErrors(['passcode', 'confirmPasscode']);\n      } else {\n        if (withConfirm) {\n          setPin(passcode);\n        } else {\n          loginSetPin(passcode);\n        }\n      }\n    },\n    [setPin, register, withConfirm, clearErrors, step, loginSetPin]\n  );\n\n  const getTitle = useCallback(() => {\n    if (!withConfirm) {\n      return 'Safety First!';\n    }\n\n    switch (step) {\n      case PasscodeSteps.ConfirmPasscode:\n        return 'Confirm your passcode';\n      case PasscodeSteps.Passcode:\n      default:\n        return 'Create your passcode';\n    }\n  }, [step, withConfirm]);\n\n  const getSubTitle = useCallback(() => {\n    if (!withConfirm) {\n      return (\n        <>\n          Insert your <b>passcode, that you chose</b> when creating your\n          account! Dont forget to store it somewhere safe, since we are unable\n          to restore any lost passcodes! Learn more\n        </>\n      );\n    }\n\n    switch (step) {\n      case PasscodeSteps.ConfirmPasscode:\n        return (\n          <>\n            Please <b>confirm</b> your <b>passcode</b>. Dont forget to store it\n            somewhere safe, since we are unable to restore any lost passcodes!\n          </>\n        );\n      case PasscodeSteps.Passcode:\n      default:\n        return (\n          <>\n            Create your <b>passcode</b>. Make sure that you&nbsp;\n            <b>Store it somewhere safely</b>, since we are unable to restore any\n            lost passcodes!\n          </>\n        );\n    }\n  }, [step, withConfirm]);\n\n  return (\n    <IonPage>\n      <Content fullscreen>\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow>\n            <IonCol size=\"12\">\n              <Text\n                className=\"ion-margin-bottom\"\n                fontSize={FontSize.XL}\n                color=\"light\"\n                fontWeight={FontWeight.BOLD}\n              >\n                {getTitle()}\n              </Text>\n              <Text\n                className=\"ion-margin-top\"\n                fontSize={FontSize.SM}\n                color=\"light\"\n              >\n                {getSubTitle()}\n              </Text>\n            </IonCol>\n            <IonCol size=\"8\" offset=\"2\">\n              <form onSubmit={handleSubmit(submitForm)}>\n                <Controller\n                  render={({ onChange }) => (\n                    <IonRow hidden={step !== PasscodeSteps.Passcode}>\n                      <IonCol size=\"12\">\n                        <Input\n                          type=\"password\"\n                          value={passcode}\n                          className=\"form-input-pin\"\n                          fontSize={FontSize.L}\n                          readonly\n                        />\n                      </IonCol>\n                      <Keypad\n                        onChange={onChange}\n                        onEnter={handleSubmit(submitForm)}\n                      />\n                    </IonRow>\n                  )}\n                  control={control}\n                  name=\"passcode\"\n                  rules={{\n                    required: 'Passcode is required!',\n                    pattern: {\n                      value: /^[0-9]{4}$/,\n                      message: 'Passcode should be 4-digit number',\n                    },\n                  }}\n                />\n                <Controller\n                  render={({ onChange }) => (\n                    <IonRow hidden={step !== PasscodeSteps.ConfirmPasscode}>\n                      <IonCol size=\"12\">\n                        <Input\n                          type=\"password\"\n                          value={confirmPasscode}\n                          className=\"form-input-pin\"\n                          fontSize={FontSize.L}\n                          readonly\n                        />\n                      </IonCol>\n                      <Keypad\n                        onChange={onChange}\n                        onEnter={handleSubmit(submitForm)}\n                      />\n                    </IonRow>\n                  )}\n                  control={control}\n                  name=\"confirmPasscode\"\n                />\n                <div className=\"ion-text-center\">\n                  <FormInputError errors={errors} name=\"passcode\" />\n                  <FormInputError errors={errors} name=\"confirmPasscode\" />\n\n                  {state === AuthLoginState.Error && (\n                    <>\n                      <br />\n                      <Text\n                        className=\"ion-padding-top\"\n                        fontSize={FontSize.SM}\n                        color=\"danger\"\n                      >\n                        Invalid PIN!\n                      </Text>\n                    </>\n                  )}\n                </div>\n              </form>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </Content>\n    </IonPage>\n  );\n};\n\nexport default PasscodePage;\n","import { Action } from 'redux';\nimport { Wallet } from '@arkecosystem/client';\n\n// Actions\nenum WalletsActions {\n  WALLETS_LOAD = '@Wallets/WALLETS_LOAD',\n  WALLETS_LOAD_SUCCESS = '@Wallets/WALLETS_LOAD_SUCCESS',\n  WALLETS_LOAD_ERROR = '@Wallets/WALLETS_LOAD_ERROR',\n}\n\nexport interface WalletsLoadActionType\n  extends Action<WalletsActions.WALLETS_LOAD> {\n  payload: {\n    pubKey: string;\n  };\n}\n\nexport interface WalletsLoadSuccessActionType\n  extends Action<WalletsActions.WALLETS_LOAD_SUCCESS> {\n  payload: {\n    pubKey: string;\n    wallet: Wallet | null;\n  };\n}\n\nexport interface WalletsLoadErrorActionType\n  extends Action<WalletsActions.WALLETS_LOAD_ERROR> {\n  payload: {\n    pubKey: string;\n    error: Error;\n  };\n}\n\n// Action creators\nconst WalletsLoadAction = (pubKey: string): WalletsLoadActionType => ({\n  type: WalletsActions.WALLETS_LOAD,\n  payload: {\n    pubKey,\n  },\n});\n\nconst WalletsLoadSuccessAction = (\n  pubKey: string,\n  wallet: Wallet | null\n): WalletsLoadSuccessActionType => ({\n  type: WalletsActions.WALLETS_LOAD_SUCCESS,\n  payload: {\n    pubKey,\n    wallet,\n  },\n});\n\nconst WalletsLoadErrorAction = (\n  pubKey: string,\n  error: Error\n): WalletsLoadErrorActionType => ({\n  type: WalletsActions.WALLETS_LOAD_ERROR,\n  payload: {\n    pubKey,\n    error,\n  },\n});\n\nexport type WALLETS_ACTION_TYPES = WalletsLoadActionType &\n  WalletsLoadSuccessActionType &\n  WalletsLoadErrorActionType;\n\nexport {\n  WalletsActions,\n  WalletsLoadAction,\n  WalletsLoadSuccessAction,\n  WalletsLoadErrorAction,\n};\n","let uniqueIdIdentifier = 0;\n\nexport abstract class Utils {\n  static uniqueId(prefix = '') {\n    uniqueIdIdentifier += 1;\n    return prefix.toString() + uniqueIdIdentifier;\n  }\n\n  static wait(ms: number): Promise<void> {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n}\n","import {\n  createRef,\n  FC,\n  RefObject,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react';\nimport styled from 'styled-components';\nimport { InputChangeEventDetail } from '@ionic/core';\nimport { JSX } from '@ionic/core';\nimport { IonCol, IonRow } from '@ionic/react';\nimport { FontSize } from '../constants/font-size';\nimport { FontWeight } from '../constants/font-weight';\nimport { CryptoUtils } from '../utils/crypto-utils';\nimport { Utils } from '../utils/utils';\nimport Button from './ionic/Button';\nimport Input from './ionic/Input';\n\nconst PASSPHRASE_WORDS = 12;\n\nconst PassphraseBackground = styled.div`\n  border-radius: 0.25rem;\n  padding-left: 1.75rem;\n  background-color: var(--app-color-gray);\n`;\n\nconst SuggestBtn = styled(Button)<JSX.IonButton>`\n  &&&& {\n    --background: var(--app-color-blue-dark-bg);\n    background: var(--app-color-blue-dark-bg);\n  }\n`;\n\nconst SuggestionsRow = styled(IonRow)`\n  display: flex;\n  flex: 1 100%;\n  flex-wrap: wrap;\n  justify-content: space-between;\n\n  padding: 1.5rem 0.75rem 0;\n`;\n\nconst Passphrase: FC<{\n  onChange: (pin: string) => void;\n}> = ({ onChange }) => {\n  const [passphrase, setPassphrase] = useState<string[]>(\n    Array.from({ length: PASSPHRASE_WORDS }, () => '')\n  );\n  const [suggestions, setSuggestions] = useState<{\n    words: string[];\n    wordIndex: number;\n  }>({\n    words: [],\n    wordIndex: -1,\n  });\n\n  const [wordElRefs, setWordElRefs] = useState<\n    RefObject<HTMLIonInputElement>[]\n  >([]);\n\n  useEffect(() => {\n    setWordElRefs((wordElRef) =>\n      Array.from(\n        { length: PASSPHRASE_WORDS },\n        (_, i) => wordElRef[i] || createRef()\n      )\n    );\n  }, []);\n\n  useEffect(() => {\n    onChange(\n      passphrase\n        .map((w) => w.trim())\n        .join(' ')\n        .toLowerCase()\n    );\n  }, [passphrase, onChange]);\n\n  useEffect(() => {\n    const setFocus = async ($el: HTMLIonInputElement | null) => {\n      if (!$el) {\n        return;\n      }\n\n      await Utils.wait(250);\n      await $el.setFocus();\n    };\n\n    if (!wordElRefs.length) {\n      return;\n    }\n\n    const [word0] = wordElRefs;\n\n    if (!word0) {\n      return;\n    }\n\n    setFocus(word0.current);\n  }, [wordElRefs]);\n\n  const moveToNextWord = useCallback(\n    (index) => {\n      if (index <= 10) {\n        wordElRefs[index + 1].current!.setFocus();\n      }\n    },\n    [wordElRefs]\n  );\n\n  const setWordByIndex = useCallback(\n    (word, index) => {\n      setPassphrase((prevState) => [\n        ...prevState.slice(0, index),\n        word,\n        ...prevState.slice(index + 1),\n      ]);\n    },\n    [setPassphrase]\n  );\n\n  const onFillSuggestedWord = useCallback(\n    (e, word) => {\n      e.preventDefault();\n\n      if (suggestions.wordIndex < 0) {\n        return;\n      }\n\n      setSuggestions({\n        words: [],\n        wordIndex: -1,\n      });\n\n      setWordByIndex(word, suggestions.wordIndex);\n      moveToNextWord(suggestions.wordIndex);\n    },\n    [suggestions.wordIndex, moveToNextWord, setWordByIndex]\n  );\n\n  const onPassphraseWordChange = useCallback(\n    (word, passphraseIndex) => {\n      setSuggestions({\n        words: CryptoUtils.suggestWords(word),\n        wordIndex: passphraseIndex,\n      });\n\n      setWordByIndex(word, passphraseIndex);\n    },\n    [setWordByIndex, setSuggestions]\n  );\n\n  const onKeyDown = useCallback(\n    (event, index) => {\n      const readFromClipboard = () => {\n        navigator.clipboard\n          .readText()\n          .then((text) => {\n            const words = text.split(' ');\n            setPassphrase(\n              [\n                ...words,\n                ...Array.from({ length: PASSPHRASE_WORDS }, () => ''),\n              ].slice(0, PASSPHRASE_WORDS)\n            );\n          })\n          .catch((err) => {\n            console.warn('Reading contents from clipboard failed: ', err);\n          });\n      };\n\n      if (event.keyCode === 32) {\n        moveToNextWord(index);\n        return;\n      }\n\n      let charCode = String.fromCharCode(event.which).toLowerCase();\n      if ((event.metaKey || event.ctrlKey) && charCode === 'v') {\n        readFromClipboard();\n      }\n    },\n    [setPassphrase, moveToNextWord]\n  );\n\n  return (\n    <>\n      <PassphraseBackground className=\"ion-padding\">\n        <IonRow>\n          {passphrase.map((word, index) => (\n            <IonCol key={index} size=\"3\">\n              <Input\n                className={`form-input-transparent form-input-prefix-number-${\n                  index + 1\n                }`}\n                data-number={index + 1}\n                type=\"text\"\n                fontSize={FontSize.SM}\n                value={word}\n                onKeyDown={(e) => onKeyDown(e, index)}\n                onIonChange={({\n                  detail: { value },\n                }: CustomEvent<InputChangeEventDetail>) =>\n                  onPassphraseWordChange(value, index)\n                }\n                ref={wordElRefs[index]}\n              />\n            </IonCol>\n          ))}\n        </IonRow>\n      </PassphraseBackground>\n\n      {suggestions.words && suggestions.words.length > 0 && (\n        <SuggestionsRow>\n          {suggestions.words.map((suggestion) => (\n            <SuggestBtn\n              key={suggestion}\n              size=\"small\"\n              className=\"ion-text-lowercase\"\n              fontSize={FontSize.SM}\n              fontWeight={FontWeight.BOLD}\n              onClick={(e) => onFillSuggestedWord(e, suggestion)}\n            >\n              {suggestion}\n            </SuggestBtn>\n          ))}\n        </SuggestionsRow>\n      )}\n    </>\n  );\n};\n\nexport default Passphrase;\n","import { FC, useCallback, useContext } from 'react';\nimport { useForm, Controller, FieldValues } from 'react-hook-form';\nimport { useHistory } from 'react-router';\nimport styled from 'styled-components';\nimport { IonCol, IonContent, IonGrid, IonPage, IonRow } from '@ionic/react';\nimport Passphrase from '../components/Passphrase';\nimport Button from '../components/ionic/Button';\nimport FormInputError from '../components/ionic/ErrorMessage';\nimport Text from '../components/ionic/Text';\nimport { FontSize } from '../constants/font-size';\nimport { FontWeight } from '../constants/font-weight';\nimport { AuthRegisterContext } from '../providers/AuthRegisterProvider';\nimport { CryptoUtils } from '../utils/crypto-utils';\n\nconst Content = styled(IonContent)`\n  --background: var(--app-color-charade);\n\n  & > ion-grid {\n    display: flex;\n    align-items: center;\n    height: 100vh;\n  }\n\n  & > ion-grid > ion-row {\n    > ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n`;\n\ninterface PassphraseForm extends FieldValues {\n  passphrase: string;\n}\n\nconst PassphrasePage: FC = () => {\n  const history = useHistory();\n  const { setPassphrase } = useContext(AuthRegisterContext);\n\n  const { control, handleSubmit, errors } = useForm<PassphraseForm>({\n    defaultValues: {\n      passphrase: '',\n    },\n    mode: 'onSubmit',\n  });\n\n  const submitForm = useCallback(\n    ({ passphrase }: PassphraseForm) => {\n      setPassphrase(passphrase);\n\n      history.push('/register/passcode');\n    },\n    [setPassphrase, history]\n  );\n\n  return (\n    <IonPage>\n      <Content fullscreen>\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow>\n            <IonCol size=\"12\">\n              <Text\n                className=\"ion-margin-bottom\"\n                fontSize={FontSize.XL}\n                color=\"light\"\n                fontWeight={FontWeight.BOLD}\n              >\n                Sign in with your recovery phrase\n              </Text>\n              <Text\n                className=\"ion-margin-top\"\n                fontSize={FontSize.SM}\n                color=\"light\"\n              >\n                Restore your account with the <b>12 word phrase</b>, that you\n                were given when you created your account. <b>Make sure</b> that\n                they are in the correct order!\n              </Text>\n            </IonCol>\n            <IonCol size=\"12\" className=\"ion-padding\">\n              <form onSubmit={handleSubmit(submitForm)}>\n                <Controller\n                  render={({ onChange }) => <Passphrase onChange={onChange} />}\n                  control={control}\n                  name=\"passphrase\"\n                  rules={{\n                    required: 'Passphrase is required!',\n                    pattern: {\n                      value: /^(\\w+\\s){11}(\\w+)$/,\n                      message:\n                        'Passphrase should be 12 words long. Fill out remaining fields!',\n                    },\n                    validate: (value) =>\n                      CryptoUtils.isValidPassphrase(value) ||\n                      'Invalid passphrase!',\n                  }}\n                />\n              </form>\n            </IonCol>\n            <IonCol size=\"12\" className=\"ion-padding-horizontal\">\n              <FormInputError errors={errors} name=\"passphrase\" />\n            </IonCol>\n            <IonCol className=\"ion-padding-horizontal\" size=\"12\">\n              <Button\n                size=\"large\"\n                expand=\"block\"\n                className=\"ion-text-uppercase ion-no-margin ion-margin-top\"\n                color=\"tertiary\"\n                fontSize={FontSize.SM}\n                fontWeight={FontWeight.BOLD}\n                onClick={handleSubmit(submitForm)}\n              >\n                Restore wallet\n              </Button>\n            </IonCol>\n            <IonCol className=\"ion-padding-horizontal\" size=\"12\">\n              <Button\n                size=\"large\"\n                expand=\"block\"\n                fill=\"clear\"\n                className=\"ion-text-capitalize ion-no-margin\"\n                color=\"light\"\n                fontSize={FontSize.SM}\n                onClick={() => history.replace('/welcome')}\n              >\n                Back\n              </Button>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </Content>\n    </IonPage>\n  );\n};\n\nexport default PassphrasePage;\n","import { RootState } from '../types';\n\nexport const walletsSelector = ({ wallets: { wallets } }: RootState) => wallets;\n","import { FC, useContext, useEffect, useMemo } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport {\n  IonPage,\n  IonContent,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonSpinner,\n} from '@ionic/react';\nimport { DetailCard, DetailCardsStyled } from '../components/DetailCards';\nimport Header from '../components/Header';\nimport Text from '../components/ionic/Text';\nimport { FontSize } from '../constants/font-size';\nimport { FontWeight } from '../constants/font-weight';\nimport useIsMounted from '../hooks/use-is-mounted';\nimport { AuthLoginContext } from '../providers/AuthLoginProvider';\nimport { WalletsLoadAction } from '../store/actions/wallets';\nimport { walletsSelector } from '../store/selectors/wallets';\n\nconst ProfilePage: FC = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {\n    session: { publicKey, username },\n  } = useContext(AuthLoginContext);\n\n  const wallets = useSelector(walletsSelector, shallowEqual);\n\n  const { isLoading, wallet, isError, error } = useMemo(\n    () =>\n      wallets.hasOwnProperty(publicKey!)\n        ? wallets[publicKey!]\n        : {\n            isLoading: true,\n            isError: false,\n            error: null,\n            wallet: null,\n          },\n    [wallets, publicKey]\n  );\n\n  const isMounted = useIsMounted();\n  useEffect(() => {\n    if (publicKey && isMounted) {\n      dispatch(WalletsLoadAction(publicKey!));\n    }\n  }, [isMounted, dispatch, publicKey]);\n\n  const cardsLength = useMemo(() => {\n    if (wallet?.attributes?.nft?.base?.tokenIds) {\n      return Object.keys(wallet?.attributes?.nft?.base?.tokenIds).length;\n    }\n    return 0;\n  }, [wallet]);\n\n  const walletUsername = useMemo(\n    () => wallet?.attributes?.nameservice?.name || undefined,\n    [wallet]\n  );\n\n  return (\n    <IonPage>\n      <Header title=\"My profile\" />\n\n      <IonContent fullscreen id=\"main-content\">\n        <IonGrid>\n          <IonRow>\n            {!isLoading && isError && (\n              <IonCol size=\"12\" class=\"ion-text-center ion-padding-top\">\n                <Text color=\"danger\" fontSize={FontSize.XXL}>\n                  Something went wrong!\n                </Text>\n                <Text\n                  className=\"ion-padding-top\"\n                  fontSize={FontSize.SM}\n                  color=\"light\"\n                >\n                  {error?.toString()}\n                </Text>\n              </IonCol>\n            )}\n            {isLoading && (\n              <IonCol size=\"12\" class=\"ion-text-center ion-padding-top\">\n                <IonSpinner color=\"primary\" />\n              </IonCol>\n            )}\n\n            {!isLoading && !isError && (\n              <IonCol size=\"12\" className=\"ion-text-center ion-padding\">\n                <Text\n                  className=\"ion-text-capitalize\"\n                  fontSize={FontSize.L}\n                  fontWeight={FontWeight.BOLD}\n                >\n                  Hi {walletUsername || username || '----'}!\n                </Text>\n              </IonCol>\n            )}\n          </IonRow>\n          {!isLoading && !isError && (\n            <DetailCardsStyled>\n              <DetailCard\n                isGrayBg={true}\n                size=\"4\"\n                title=\"COLLECTED CARDS\"\n                subtitle={cardsLength.toString()}\n              />\n              <DetailCard\n                isGrayBg={true}\n                size=\"4\"\n                title=\"SINGED CARDS\"\n                subtitle=\"0\"\n              />\n              <DetailCard\n                isBlueBg={true}\n                size=\"4\"\n                title=\"ADD NEW CARD\"\n                subtitle=\"+\"\n                onClick={() => history.replace('/home/scan-qr')}\n              />\n            </DetailCardsStyled>\n          )}\n        </IonGrid>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default ProfilePage;\n","import QRCode from 'qrcode.react';\nimport { FC } from 'react';\nimport { useParams } from 'react-router';\nimport styled from 'styled-components';\nimport { IonContent, IonPage } from '@ionic/react';\n\nconst QR_CODE_SIZE = 256;\n\nconst Content = styled(IonContent)`\n  position: relative;\n`;\n\nconst QRCodeStyled = styled(QRCode)`\n  position: absolute;\n  left: calc(50% - ${QR_CODE_SIZE / 2}px);\n  top: calc(50% - ${QR_CODE_SIZE / 2}px);\n`;\n\n/**\n * Qr Code generator page, which generates QR code based on passed in GUID\n */\nconst QrCodeGeneratorPage: FC = () => {\n  const { id } = useParams<{ id: string }>();\n\n  return (\n    <IonPage>\n      <Content>\n        {id && <QRCodeStyled renderAs=\"svg\" size={QR_CODE_SIZE} value={id} />}\n      </Content>\n    </IonPage>\n  );\n};\n\nexport default QrCodeGeneratorPage;\n","import { FC, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport { Subscription } from 'rxjs';\nimport styled from 'styled-components';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner';\nimport { IonPage, IonContent } from '@ionic/react';\nimport Header from '../components/Header';\n\ndeclare const window: any;\n\nconst Content = styled(IonContent)`\n  opacity: 0;\n`;\n\nconst ScanQRPage: FC = () => {\n  const history = useHistory();\n\n  useEffect(() => {\n    let scanSubscription: Subscription;\n\n    const onInitQrScanner = async () => {\n      try {\n        const status: QRScannerStatus = await QRScanner.prepare();\n\n        if (status.authorized) {\n          await QRScanner.show();\n          window.document.querySelector('ion-app').classList.add('camera-view');\n\n          scanSubscription = QRScanner.scan().subscribe(\n            (collectionId: string) => {\n              // TODO: Validate text if it is valid collection id\n              history.replace(`/home/collect-card/${collectionId}`);\n            }\n          );\n        } else if (status.denied) {\n          // camera permission was permanently denied\n        } else {\n          // permission was denied, but not permanently\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    };\n\n    onInitQrScanner();\n\n    return () => {\n      if (scanSubscription) {\n        scanSubscription.unsubscribe();\n      }\n      window.document.querySelector('ion-app').classList.remove('camera-view');\n      QRScanner.hide();\n      QRScanner.destroy();\n    };\n  }, [history]);\n\n  return (\n    <IonPage>\n      <Header title=\"Collect Cards\" />\n\n      <Content fullscreen id=\"main-content\" />\n    </IonPage>\n  );\n};\n\nexport default ScanQRPage;\n","import { FC, useCallback, useContext } from 'react';\nimport { useForm, Controller, FieldValues } from 'react-hook-form';\nimport { useHistory } from 'react-router';\nimport styled from 'styled-components';\nimport { InputChangeEventDetail } from '@ionic/core';\nimport { IonCol, IonContent, IonGrid, IonPage, IonRow } from '@ionic/react';\nimport Button from '../components/ionic/Button';\nimport FormInputError from '../components/ionic/ErrorMessage';\nimport Input from '../components/ionic/Input';\nimport Text from '../components/ionic/Text';\nimport { FontSize } from '../constants/font-size';\nimport { FontWeight } from '../constants/font-weight';\nimport { AuthRegisterContext } from '../providers/AuthRegisterProvider';\n\nconst Content = styled(IonContent)`\n  --background: var(--app-color-charade);\n\n  ion-row {\n    ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-end;\n        height: 40vh;\n        padding: 2rem;\n        text-align: center;\n      }\n    }\n  }\n`;\n\ninterface UsernameForm extends FieldValues {\n  username: string;\n}\n\nconst UsernamePage: FC = () => {\n  const history = useHistory();\n  const { setUsername } = useContext(AuthRegisterContext);\n\n  const { formState, control, handleSubmit, errors } = useForm<UsernameForm>({\n    defaultValues: {\n      username: '',\n    },\n    mode: 'onChange',\n  });\n\n  const submitForm = useCallback(\n    ({ username }: UsernameForm) => {\n      if (!formState.isValid) {\n        return;\n      }\n      setUsername(username);\n      history.push('/register/passcode');\n    },\n    [formState.isValid, setUsername, history]\n  );\n\n  return (\n    <IonPage>\n      <Content fullscreen>\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow>\n            <IonCol size=\"12\">\n              <Text\n                className=\"ion-margin-bottom\"\n                fontSize={FontSize.XL}\n                color=\"light\"\n                fontWeight={FontWeight.BOLD}\n              >\n                Pick your username\n              </Text>\n              <Text\n                className=\"ion-margin-top\"\n                fontSize={FontSize.SM}\n                color=\"light\"\n              >\n                Collecting digital hero cards is easy! Make it even easier for\n                other collectors to find you, and star collecting your favourite\n                cards!\n              </Text>\n            </IonCol>\n            <IonCol size=\"12\" className=\"ion-padding\">\n              <form onSubmit={handleSubmit(submitForm)}>\n                <Controller\n                  render={({ onChange }) => (\n                    <Input\n                      type=\"text\"\n                      className=\"form-input-prefix-username ion-margin-bottom\"\n                      fontSize={FontSize.SM}\n                      placeholder=\"Pick username...\"\n                      onIonChange={({\n                        detail: { value },\n                      }: CustomEvent<InputChangeEventDetail>) =>\n                        onChange(value)\n                      }\n                    />\n                  )}\n                  control={control}\n                  name=\"username\"\n                  rules={{\n                    required: 'Username is required!',\n                  }}\n                />\n                <FormInputError errors={errors} name=\"username\" />\n                <Button\n                  type=\"submit\"\n                  size=\"large\"\n                  expand=\"block\"\n                  className=\"ion-text-uppercase ion-no-margin ion-margin-top\"\n                  color=\"tertiary\"\n                  fontSize={FontSize.SM}\n                  fontWeight={FontWeight.BOLD}\n                  disabled={!formState.isValid}\n                >\n                  Register username\n                </Button>\n              </form>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </Content>\n    </IonPage>\n  );\n};\n\nexport default UsernamePage;\n","import { FC } from 'react';\nimport styled from 'styled-components';\nimport { IonCol, IonContent, IonGrid, IonPage, IonRow } from '@ionic/react';\nimport Button from '../components/ionic/Button';\nimport Img from '../components/ionic/Img';\nimport Text from '../components/ionic/Text';\nimport { FontSize } from '../constants/font-size';\nimport { FontWeight } from '../constants/font-weight';\nimport { welcomeImage } from '../constants/images';\n\nconst Content = styled(IonContent)`\n  --background: var(--app-color-charade);\n\n  & > ion-grid {\n    display: flex;\n    align-items: flex-end;\n    height: 100vh;\n    padding-bottom: 2rem;\n  }\n\n  ion-row {\n    ion-col {\n      &:nth-child(1) {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        padding-bottom: 1rem;\n      }\n\n      &:nth-child(2) {\n        overflow: hidden;\n        margin-bottom: 1rem;\n        max-height: 25vh;\n      }\n\n      &:nth-child(3) {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        width: 100vw;\n        padding-bottom: 0.5rem;\n      }\n    }\n  }\n\n  @media screen and (min-height: 600px) {\n    ion-row {\n      ion-col {\n        &:nth-child(1) {\n          padding-bottom: 2rem;\n        }\n\n        &:nth-child(2) {\n          margin-bottom: 2rem;\n        }\n\n        &:nth-child(3) {\n          padding-bottom: 1rem;\n        }\n      }\n    }\n  }\n`;\n\nconst WelcomePage: FC = () => {\n  return (\n    <IonPage>\n      <Content fullscreen>\n        <IonGrid className=\"ion-no-padding\">\n          <IonRow>\n            <IonCol size=\"12\">\n              <Text\n                className=\"ion-text-uppercase\"\n                fontSize={FontSize.XXL}\n                color=\"light\"\n                fontWeight={FontWeight.BOLD}\n              >\n                Nascar\n              </Text>\n              <Text\n                className=\"ion-text-capitalize\"\n                fontSize={FontSize.XL}\n                color=\"light\"\n                fontWeight={FontWeight.BOLD}\n              >\n                Digital Hero Cards\n              </Text>\n            </IonCol>\n            <IonCol className=\"ion-no-padding\" size=\"12\">\n              <Img {...welcomeImage} />\n            </IonCol>\n            <IonCol size=\"12\">\n              <Button\n                size=\"large\"\n                expand=\"block\"\n                className=\"ion-text-uppercase ion-margin\"\n                fontSize={FontSize.SM}\n                fontWeight={FontWeight.BOLD}\n                routerLink=\"/login/passphrase\"\n              >\n                Existing user\n              </Button>\n              <Button\n                size=\"large\"\n                expand=\"block\"\n                className=\"ion-text-uppercase ion-margin\"\n                color=\"tertiary\"\n                fontSize={FontSize.SM}\n                fontWeight={FontWeight.BOLD}\n                routerLink=\"/register/username\"\n              >\n                Create account\n              </Button>\n            </IonCol>\n            <IonCol size=\"12\" className=\"ion-text-center\">\n              <Text fontSize={FontSize.XXS} color=\"light\">\n                 Protokol, 2021\n              </Text>\n            </IonCol>\n          </IonRow>\n        </IonGrid>\n      </Content>\n    </IonPage>\n  );\n};\n\nexport default WelcomePage;\n","import { FC, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { Plugins } from '@capacitor/core';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation';\nimport { IonApp, IonRouterOutlet, isPlatform } from '@ionic/react';\nimport { IonReactHashRouter } from '@ionic/react-router';\nimport MainMenu from './components/MainMenu';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport useIsMounted from './hooks/use-is-mounted';\nimport CardDetails from './pages/CardDetails';\nimport CollectCardPage from './pages/CollectCardPage';\nimport HomePage from './pages/HomePage';\nimport PasscodePage from './pages/PasscodePage';\nimport PassphrasePage from './pages/PassphrasePage';\nimport ProfilePage from './pages/ProfilePage';\nimport QrCodeGeneratorPage from './pages/QrCodeGeneratorPage';\nimport ScanQRPage from './pages/ScanQRPage';\nimport UsernamePage from './pages/UsernamePage';\nimport WelcomePage from './pages/WelcomePage';\nimport AuthLoginContextProvider from './providers/AuthLoginProvider';\nimport AuthRegisterContextProvider from './providers/AuthRegisterProvider';\nimport { SetBaseUrlAppAction } from './store/actions/app';\nimport './theme/ionic-theme';\n\nconst { SplashScreen } = Plugins;\n\nconst App: FC = () => {\n  const dispatch = useDispatch();\n\n  const isMounted = useIsMounted();\n  useEffect(() => {\n    const lockOrientation = async () => {\n      await ScreenOrientation.lock(\n        ScreenOrientation.ORIENTATIONS.PORTRAIT_PRIMARY\n      );\n    };\n\n    if (isMounted) {\n      if (isPlatform('capacitor')) {\n        lockOrientation();\n        SplashScreen.hide();\n      }\n      dispatch(SetBaseUrlAppAction('https://explorer.protokol.sh'));\n    }\n  }, [isMounted, dispatch]);\n\n  return (\n    <IonApp>\n      <AuthLoginContextProvider>\n        <AuthRegisterContextProvider>\n          <IonReactHashRouter>\n            <MainMenu />\n            <Switch>\n              <Route path=\"/qr/:id\" component={QrCodeGeneratorPage} exact />\n              <Route path=\"/welcome\" component={WelcomePage} exact />\n              <Route\n                path=\"/login/passphrase\"\n                component={PassphrasePage}\n                exact\n              />\n              <Route path=\"/register/username\" component={UsernamePage} exact />\n              <Route\n                path=\"/register/passcode\"\n                exact\n                render={(props) => <PasscodePage withConfirm {...props} />}\n              />\n              <Route\n                path=\"/passcode\"\n                exact\n                render={(props) => (\n                  <PasscodePage withConfirm={false} {...props} />\n                )}\n              />\n              <Redirect path=\"/\" exact to=\"/home\" />\n\n              <IonRouterOutlet>\n                <ProtectedRoute path=\"/home\" component={HomePage} exact />\n                <ProtectedRoute\n                  path=\"/home/profile\"\n                  component={ProfilePage}\n                  exact\n                />\n                <ProtectedRoute\n                  requiresCordova={true}\n                  path=\"/home/scan-qr\"\n                  component={ScanQRPage}\n                  exact\n                />\n                <ProtectedRoute\n                  path=\"/home/card/:assetId\"\n                  component={CardDetails}\n                  exact\n                />\n                <ProtectedRoute\n                  path=\"/home/collect-card/:collectionId\"\n                  component={CollectCardPage}\n                  exact\n                />\n              </IonRouterOutlet>\n            </Switch>\n          </IonReactHashRouter>\n        </AuthRegisterContextProvider>\n      </AuthLoginContextProvider>\n    </IonApp>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import { Action } from 'redux';\nimport { ArkCrypto } from '../services/crypto';\n\n// Actions\nenum TransactionActions {\n  TRANSACTION_WAIT_FOR_CONFIRM = '@Transaction/TRANSACTION_WAIT_FOR_CONFIRM',\n  TRANSACTION_CONFIRM_SUCCESS = '@Transaction/TRANSACTION_CONFIRM_SUCCESS',\n  TRANSACTION_CONFIRM_ERROR = '@Transaction/TRANSACTION_CONFIRM_ERROR',\n  TRANSACTION_SUBMIT = '@Transaction/TRANSACTION_SUBMIT',\n}\n\nexport interface TransactionWaitForConfirmActionType\n  extends Action<TransactionActions.TRANSACTION_WAIT_FOR_CONFIRM> {\n  payload: {\n    txUuid: string;\n    txId: string;\n  };\n}\n\nexport interface TransactionConfirmSuccessActionType\n  extends Action<TransactionActions.TRANSACTION_CONFIRM_SUCCESS> {\n  payload: {\n    txUuid: string;\n  };\n}\n\nexport interface TransactionConfirmErrorActionType\n  extends Action<TransactionActions.TRANSACTION_CONFIRM_ERROR> {\n  payload: {\n    txUuid: string;\n    error: Error;\n  };\n}\n\nexport interface TransactionSubmitActionType\n  extends Action<TransactionActions.TRANSACTION_SUBMIT> {\n  payload: {\n    txUuid: string;\n    transactions: {\n      transactions: (\n        | ArkCrypto.Interfaces.ITransactionJson\n        | ArkCrypto.Interfaces.ITransactionData\n      )[];\n    } & Record<string, any>;\n  };\n}\n\n// Action creators\nconst TransactionWaitForConfirmAction = (\n  txUuid: string,\n  txId: string\n): TransactionWaitForConfirmActionType => ({\n  type: TransactionActions.TRANSACTION_WAIT_FOR_CONFIRM,\n  payload: {\n    txUuid,\n    txId,\n  },\n});\n\nconst TransactionConfirmSuccessAction = (\n  txUuid: string\n): TransactionConfirmSuccessActionType => ({\n  type: TransactionActions.TRANSACTION_CONFIRM_SUCCESS,\n  payload: {\n    txUuid,\n  },\n});\n\nconst TransactionConfirmErrorAction = (\n  txUuid: string,\n  error: Error\n): TransactionConfirmErrorActionType => ({\n  type: TransactionActions.TRANSACTION_CONFIRM_ERROR,\n  payload: {\n    txUuid,\n    error,\n  },\n});\n\nconst TransactionSubmitAction = (\n  txUuid: string,\n  transactions: {\n    transactions: (\n      | ArkCrypto.Interfaces.ITransactionJson\n      | ArkCrypto.Interfaces.ITransactionData\n    )[];\n  } & Record<string, any>\n): TransactionSubmitActionType => ({\n  type: TransactionActions.TRANSACTION_SUBMIT,\n  payload: {\n    txUuid,\n    transactions,\n  },\n});\n\nexport type TRANSACTION_ACTION_TYPES = TransactionWaitForConfirmActionType &\n  TransactionConfirmSuccessActionType &\n  TransactionConfirmErrorActionType;\n\nexport {\n  TransactionActions,\n  TransactionWaitForConfirmAction,\n  TransactionConfirmSuccessAction,\n  TransactionConfirmErrorAction,\n  TransactionSubmitAction,\n};\n","import { ofType } from 'redux-observable';\nimport { of } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  first,\n  ignoreElements,\n  map,\n  switchMap,\n  tap,\n  withLatestFrom,\n} from 'rxjs/operators';\nimport { StorageKeys } from '../../constants/storage';\nimport {\n  AppActions,\n  SetEncodedUserPrivateKeyAction,\n  SetEncodedUserPrivateKeyActionType,\n  SetUsernameAction,\n  SetUsernameActionType,\n} from '../actions/app';\nimport {\n  encodedUserPrivateKeySelector,\n  usernameSelector,\n} from '../selectors/app';\nimport { RootEpic } from '../types';\n\nconst persistUserPrivateKeyInStorageEpic: RootEpic = (\n  action$,\n  state$,\n  { storage }\n) =>\n  action$.pipe(\n    ofType(AppActions.SET_ENCODED_USER_PRIVATE_KEY),\n    withLatestFrom(\n      state$.pipe(map(encodedUserPrivateKeySelector), distinctUntilChanged())\n    ),\n    tap(([{ payload }, encodedUserPrivateKey]) => {\n      const {\n        saveToStorage,\n      } = payload as SetEncodedUserPrivateKeyActionType['payload'];\n      if (saveToStorage) {\n        storage.set(StorageKeys.PRIVATE_KEY, encodedUserPrivateKey);\n      }\n    }),\n    ignoreElements()\n  );\n\nconst restoreUserPrivateKeyFromStorageEpic: RootEpic = (\n  action$,\n  _,\n  { storage }\n) =>\n  action$.pipe(\n    first(),\n    switchMap(() => {\n      const userPrivateKey = storage.get<string>(StorageKeys.PRIVATE_KEY);\n      if (userPrivateKey) {\n        return of(SetEncodedUserPrivateKeyAction(userPrivateKey, false));\n      }\n      return of(SetEncodedUserPrivateKeyAction(null, false));\n    })\n  );\n\nconst persistUsernameInStorageEpic: RootEpic = (action$, state$, { storage }) =>\n  action$.pipe(\n    ofType(AppActions.SET_USERNAME),\n    withLatestFrom(state$.pipe(map(usernameSelector), distinctUntilChanged())),\n    tap(([{ payload }, username]) => {\n      const { saveToStorage } = payload as SetUsernameActionType['payload'];\n      if (saveToStorage) {\n        storage.set(StorageKeys.USERNAME, username);\n      }\n    }),\n    ignoreElements()\n  );\n\nconst restoreUsernameFromStorageEpic: RootEpic = (action$, _, { storage }) =>\n  action$.pipe(\n    first(),\n    switchMap(() => {\n      const username = storage.get<string>(StorageKeys.USERNAME);\n      if (username) {\n        return of(SetUsernameAction(username, false));\n      }\n      return of(SetUsernameAction(null, false));\n    })\n  );\n\nconst epics = [\n  persistUserPrivateKeyInStorageEpic,\n  restoreUserPrivateKeyFromStorageEpic,\n  persistUsernameInStorageEpic,\n  restoreUsernameFromStorageEpic,\n];\n\nexport default epics;\n","import { Action } from 'redux';\nimport { NodeCryptoConfiguration } from '@arkecosystem/client';\n\n// Actions\nenum NetworkActions {\n  LOAD_NETWORK_CONFIGURATION = '@Network/LOAD_NETWORK_CONFIGURATION',\n  NETWORK_CONFIGURATION_SUCCESS = '@Network/NETWORK_CONFIGURATION_SUCCESS',\n  NETWORK_CONFIGURATION_ERROR = '@Network/NETWORK_CONFIGURATION_ERROR',\n}\n\nexport interface LoadNetworkConfigurationActionType\n  extends Action<NetworkActions.LOAD_NETWORK_CONFIGURATION> {\n  payload: {\n    baseUrl?: string;\n  };\n}\n\nexport interface NetworkConfigurationSuccessActionType\n  extends Action<NetworkActions.NETWORK_CONFIGURATION_SUCCESS> {\n  payload: {\n    nodeCryptoConfiguration: NodeCryptoConfiguration;\n    height: number;\n  };\n}\n\nexport interface NetworkConfigurationErrorActionType\n  extends Action<NetworkActions.NETWORK_CONFIGURATION_ERROR> {\n  payload: {\n    error: Error;\n  };\n}\n\n// Action creators\nconst LoadNetworkConfigurationAction = (\n  baseUrl?: string\n): LoadNetworkConfigurationActionType => ({\n  type: NetworkActions.LOAD_NETWORK_CONFIGURATION,\n  payload: {\n    baseUrl,\n  },\n});\n\nconst NetworkConfigurationSuccessAction = (\n  nodeCryptoConfiguration: NodeCryptoConfiguration,\n  height: number\n): NetworkConfigurationSuccessActionType => ({\n  type: NetworkActions.NETWORK_CONFIGURATION_SUCCESS,\n  payload: {\n    nodeCryptoConfiguration,\n    height,\n  },\n});\n\nconst NetworkConfigurationErrorAction = (\n  error: Error\n): NetworkConfigurationErrorActionType => ({\n  type: NetworkActions.NETWORK_CONFIGURATION_ERROR,\n  payload: {\n    error,\n  },\n});\n\nexport type NETWORK_ACTION_TYPES = LoadNetworkConfigurationActionType &\n  NetworkConfigurationSuccessActionType &\n  NetworkConfigurationErrorActionType;\n\nexport {\n  NetworkActions,\n  LoadNetworkConfigurationAction,\n  NetworkConfigurationSuccessAction,\n  NetworkConfigurationErrorAction,\n};\n","import { merge, of } from 'rxjs';\nimport { fromFetch } from 'rxjs/fetch';\nimport { catchError, map, switchMap, withLatestFrom } from 'rxjs/operators';\nimport {\n  DataResponse,\n  CreateTransactionApiResponse,\n} from '@arkecosystem/client';\nimport {\n  AssetClaimActions,\n  ClaimAssetActionType,\n  ClaimAssetErrorAction,\n  ClaimAssetSuccessAction,\n} from '../actions/asset-claim';\nimport { TransactionWaitForConfirmAction } from '../actions/transaction';\nimport { baseUrlSelector } from '../selectors/app';\nimport { RootEpic } from '../types';\n\nconst postAssetClaimEpic: RootEpic = (action$, state$) =>\n  action$.ofType(AssetClaimActions.CLAIM_ASSET).pipe(\n    withLatestFrom(state$.pipe(map(baseUrlSelector))),\n    switchMap(([action, stateBaseUrl]) => {\n      const {\n        payload: { collectionId, recipientId, txUuid },\n      } = action as ClaimAssetActionType;\n\n      return fromFetch(`${stateBaseUrl}/api/nft/assets/claim`, {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        selector: (response) => response.json(),\n        method: 'POST',\n        body: JSON.stringify({\n          collectionId,\n          recipientId,\n        }),\n      }).pipe(\n        switchMap(\n          ({ data, errors }: DataResponse<CreateTransactionApiResponse>) => {\n            const [accepted] = data.accept;\n            if (!!accepted) {\n              return merge(\n                of(ClaimAssetSuccessAction(accepted)),\n                of(TransactionWaitForConfirmAction(txUuid, accepted))\n              );\n            }\n\n            const [invalid] = data.invalid;\n            const err = errors[invalid].message;\n\n            return of(ClaimAssetErrorAction(err));\n          }\n        ),\n        catchError((err) => of(ClaimAssetErrorAction(err)))\n      );\n    })\n  );\n\nconst epics = [postAssetClaimEpic];\n\nexport default epics;\n","import { defer, of } from 'rxjs';\nimport { catchError, map, switchMap, withLatestFrom } from 'rxjs/operators';\nimport {\n  CollectionsActions,\n  CollectionsLoadActionType,\n  CollectionsLoadErrorAction,\n  CollectionsLoadSuccessAction,\n} from '../actions/collections';\nimport { baseUrlSelector } from '../selectors/app';\nimport { RootEpic } from '../types';\n\nconst fetchWalletCollectionsEpic: RootEpic = (\n  action$,\n  state$,\n  { connection }\n) =>\n  action$.ofType(CollectionsActions.COLLECTIONS_LOAD).pipe(\n    withLatestFrom(state$.pipe(map(baseUrlSelector))),\n    switchMap(([action, stateBaseUrl]) => {\n      const {\n        payload: { pubKey, query },\n      } = action as CollectionsLoadActionType;\n\n      return defer(() =>\n        connection(stateBaseUrl!)\n          .NFTBaseApi('assets')\n          .walletAssets(pubKey, query)\n      ).pipe(\n        map(({ body: { data, errors } }) => {\n          if (errors) {\n            return CollectionsLoadErrorAction(errors);\n          }\n\n          const q = query || {\n            page: 1,\n            limit: 100,\n          };\n\n          return CollectionsLoadSuccessAction(q, data, data.length < q.limit!);\n        }),\n        catchError((err) => of(CollectionsLoadErrorAction(err)))\n      );\n    })\n  );\n\nconst epics = [fetchWalletCollectionsEpic];\n\nexport default epics;\n","import { ProtokolConnection } from '@protokol/client';\n\nconst connection = (baseUrl: string, timeout = 5000) =>\n  new ProtokolConnection(`${baseUrl}/api`).withOptions({\n    timeout,\n  });\n\nexport default connection;\n","import { map, switchMap, tap, withLatestFrom } from 'rxjs/operators';\nimport { StorageKeys } from '../../constants/storage';\nimport { CryptoUtils } from '../../utils/crypto-utils';\nimport {\n  NamespaceActions,\n  NamespaceRegisterActionType,\n} from '../actions/namespace';\nimport { TransactionSubmitAction } from '../actions/transaction';\nimport { baseUrlSelector } from '../selectors/app';\nimport { ArkCrypto, NameserviceCrypto } from '../services/crypto';\nimport { RootEpic } from '../types';\nimport { getWallet } from './helpers';\n\nconst namespaceRegisterEpic: RootEpic = (action$, state$, { storage }) =>\n  action$.ofType(NamespaceActions.NAMESPACE_REGISTER).pipe(\n    withLatestFrom(state$.pipe(map(baseUrlSelector))),\n    switchMap(([action, baseUrl]) => {\n      const {\n        payload: { name, txUuid, passphrase },\n      } = action as NamespaceRegisterActionType;\n\n      return getWallet(\n        baseUrl!,\n        ArkCrypto.Identities.PublicKey.fromPassphrase(passphrase)\n      ).pipe(\n        tap(() => storage.set(StorageKeys.USERNAME, name)),\n        map((wallet) => {\n          const transaction = new NameserviceCrypto.Builders.NameserviceBuilder()\n            .Nameservice({\n              name,\n            })\n            .nonce(CryptoUtils.getWalletNextNonce(wallet))\n            .sign(passphrase);\n\n          return TransactionSubmitAction(txUuid, {\n            transactions: [transaction.getStruct()],\n          });\n        })\n      );\n    })\n  );\n\nconst epics = [namespaceRegisterEpic];\n\nexport default epics;\n","import { defer, Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { Wallet, ApiResponse } from '@arkecosystem/client';\nimport connection from '../services/protokol-connection';\n\nconst getWallet = (\n  baseUrl: string,\n  addressOrPublicKey: string\n): Observable<Wallet | undefined> =>\n  defer(() => connection(baseUrl).api('wallets').get(addressOrPublicKey)).pipe(\n    map<ApiResponse<Wallet>, Wallet>((response) => response?.body?.data),\n    catchError((err) => {\n      console.warn(err);\n      return of(undefined);\n    })\n  );\n\nexport { getWallet };\n","import { defer, forkJoin, of } from 'rxjs';\nimport {\n  catchError,\n  distinctUntilChanged,\n  filter,\n  ignoreElements,\n  map,\n  switchMap,\n  tap,\n  withLatestFrom,\n} from 'rxjs/operators';\nimport {\n  LoadNetworkConfigurationAction,\n  LoadNetworkConfigurationActionType,\n  NetworkActions,\n  NetworkConfigurationErrorAction,\n  NetworkConfigurationSuccessAction,\n  NetworkConfigurationSuccessActionType,\n} from '../actions/network';\nimport { baseUrlSelector } from '../selectors/app';\nimport { ArkCrypto, NameserviceCrypto } from '../services/crypto';\nimport { RootEpic } from '../types';\n\nconst arkCryptoEpic: RootEpic = (action$) =>\n  action$.ofType(NetworkActions.NETWORK_CONFIGURATION_SUCCESS).pipe(\n    tap((action) => {\n      const {\n        payload: { nodeCryptoConfiguration, height },\n      } = action as NetworkConfigurationSuccessActionType;\n\n      const { network, exceptions, milestones } = nodeCryptoConfiguration;\n\n      // Set network\n      ArkCrypto.Managers.configManager.setConfig({\n        network,\n        milestones,\n        genesisBlock: ArkCrypto.Managers.configManager.getPreset('devnet')\n          .genesisBlock,\n        exceptions,\n      } as ArkCrypto.Interfaces.NetworkConfig);\n\n      // Set height\n      ArkCrypto.Managers.configManager.setHeight(height);\n\n      // Register custom transaction types\n      ArkCrypto.Transactions.TransactionRegistry.registerTransactionType(\n        NameserviceCrypto.Transactions.NameserviceTransaction\n      );\n    }),\n    ignoreElements()\n  );\n\nconst fetchNetworkConfigurationEpic: RootEpic = (\n  action$,\n  state$,\n  { connection }\n) =>\n  action$.ofType(NetworkActions.LOAD_NETWORK_CONFIGURATION).pipe(\n    withLatestFrom(state$.pipe(map(baseUrlSelector))),\n    switchMap(([action, stateBaseUrl]) => {\n      const { payload } = action as LoadNetworkConfigurationActionType;\n\n      return forkJoin([\n        defer(() =>\n          connection(payload.baseUrl || stateBaseUrl!)\n            .api('node')\n            .crypto()\n        ),\n        defer(() =>\n          connection(payload.baseUrl || stateBaseUrl!)\n            .api('blocks')\n            .last()\n        ),\n      ]).pipe(\n        map(([cryptoResponse, blockResponse]) =>\n          NetworkConfigurationSuccessAction(\n            cryptoResponse?.body?.data,\n            blockResponse?.body?.data?.height\n          )\n        ),\n        catchError((err) => of(NetworkConfigurationErrorAction(err)))\n      );\n    })\n  );\n\nconst onInitLoadNetworkEpic: RootEpic = (_, state$) =>\n  state$.pipe(\n    map(baseUrlSelector),\n    distinctUntilChanged(),\n    filter((baseUrl) => !!baseUrl),\n    map(LoadNetworkConfigurationAction)\n  );\n\nconst epics = [\n  arkCryptoEpic,\n  fetchNetworkConfigurationEpic,\n  onInitLoadNetworkEpic,\n];\n\nexport default epics;\n","import addSeconds from 'date-fns/addSeconds';\nimport { defer, EMPTY, of, Subject, throwError, timer } from 'rxjs';\nimport {\n  catchError,\n  exhaustMap,\n  ignoreElements,\n  map,\n  switchMap,\n  takeUntil,\n  timeoutWith,\n  withLatestFrom,\n} from 'rxjs/operators';\nimport {\n  CreateTransactionApiResponse,\n  ApiResponse,\n} from '@arkecosystem/client';\nimport { ClaimAssetErrorAction } from '../actions/asset-claim';\nimport {\n  TransactionActions,\n  TransactionConfirmErrorAction,\n  TransactionConfirmSuccessAction,\n  TransactionSubmitActionType,\n  TransactionWaitForConfirmAction,\n  TransactionWaitForConfirmActionType,\n} from '../actions/transaction';\nimport { baseUrlSelector } from '../selectors/app';\nimport { RootEpic } from '../types';\n\nconst pingTransactionConfirmEpic: RootEpic = (\n  action$,\n  state$,\n  { connection }\n) =>\n  action$.ofType(TransactionActions.TRANSACTION_WAIT_FOR_CONFIRM).pipe(\n    withLatestFrom(state$.pipe(map(baseUrlSelector))),\n    switchMap(([action, stateBaseUrl]) => {\n      const cancel$ = new Subject();\n\n      const {\n        payload: { txId, txUuid },\n      } = action as TransactionWaitForConfirmActionType;\n\n      return timer(0, 4000).pipe(\n        takeUntil(cancel$),\n        timeoutWith(\n          addSeconds(Date.now(), 80 /*Wait for 10 blocks*/),\n          throwError(\n            'Transaction/s have not been confirmed within 10 blocks time!'\n          )\n        ),\n        exhaustMap(() =>\n          defer(() =>\n            connection(stateBaseUrl!).api('transactions').get(txId)\n          ).pipe(\n            catchError(() => {\n              return of({ body: { data: undefined } });\n            }),\n            switchMap(({ body: { data } }) => {\n              if (data) {\n                cancel$.next();\n                cancel$.complete();\n\n                return of(TransactionConfirmSuccessAction(txUuid));\n              }\n              return EMPTY.pipe(ignoreElements());\n            })\n          )\n        ),\n        catchError((err) => of(TransactionConfirmErrorAction(txUuid, err)))\n      );\n    })\n  );\n\nconst transactionSubmitEpic: RootEpic = (action$, state$, { connection }) =>\n  action$.ofType(TransactionActions.TRANSACTION_SUBMIT).pipe(\n    withLatestFrom(state$.pipe(map(baseUrlSelector))),\n    switchMap(([action, stateBaseUrl]) => {\n      const {\n        payload: { transactions, txUuid },\n      } = action as TransactionSubmitActionType;\n\n      return defer(() =>\n        connection(stateBaseUrl!).api('transactions').create(transactions)\n      ).pipe(\n        switchMap(\n          ({\n            body: { data, errors },\n          }: ApiResponse<CreateTransactionApiResponse>) => {\n            const [accepted] = data.accept;\n            if (!!accepted) {\n              return of(TransactionWaitForConfirmAction(txUuid, accepted));\n            }\n\n            const [invalid] = data.invalid;\n            const err = errors[invalid].message;\n\n            return of(ClaimAssetErrorAction(err));\n          }\n        ),\n        catchError((err) => of(ClaimAssetErrorAction(err)))\n      );\n    })\n  );\n\nconst epics = [pingTransactionConfirmEpic, transactionSubmitEpic];\n\nexport default epics;\n","import { defer, of } from 'rxjs';\nimport { catchError, map, switchMap, withLatestFrom } from 'rxjs/operators';\nimport {\n  WalletsActions,\n  WalletsLoadActionType,\n  WalletsLoadErrorAction,\n  WalletsLoadSuccessAction,\n} from '../actions/wallets';\nimport { baseUrlSelector } from '../selectors/app';\nimport { RootEpic } from '../types';\n\nconst fetchWalletEpic: RootEpic = (action$, state$, { connection }) =>\n  action$.ofType(WalletsActions.WALLETS_LOAD).pipe(\n    withLatestFrom(state$.pipe(map(baseUrlSelector))),\n    switchMap(([action, stateBaseUrl]) => {\n      const {\n        payload: { pubKey },\n      } = action as WalletsLoadActionType;\n\n      return defer(() =>\n        connection(stateBaseUrl!).api('wallets').get(pubKey)\n      ).pipe(\n        map(({ body: { data, errors } }) => {\n          if (errors) {\n            return WalletsLoadErrorAction(pubKey, errors);\n          }\n\n          return WalletsLoadSuccessAction(pubKey, data);\n        }),\n        catchError((err) => {\n          const { message } = err;\n          if (message === '404') {\n            return of(WalletsLoadSuccessAction(pubKey, null));\n          }\n          return of(WalletsLoadErrorAction(pubKey, err));\n        })\n      );\n    })\n  );\n\nconst epics = [fetchWalletEpic];\n\nexport default epics;\n","import { combineEpics } from 'redux-observable';\nimport appEpics from './app';\nimport assetClaimEpics from './asset-claim';\nimport collectionsEpics from './collections';\nimport namespaceEpics from './namespace';\nimport networkEpics from './network';\nimport transactionEpics from './transaction';\nimport walletEpics from './wallets';\n\nexport default combineEpics(\n  ...appEpics,\n  ...networkEpics,\n  ...assetClaimEpics,\n  ...transactionEpics,\n  ...namespaceEpics,\n  ...collectionsEpics,\n  ...walletEpics\n);\n","import { Reducer } from 'redux';\nimport { APP_ACTION_TYPES, AppActions } from '../actions/app';\n\nexport interface AppState {\n  baseUrl?: string;\n  userPrivateKey?: string | null;\n  username: string | null;\n}\n\nconst initialState: AppState = {\n  baseUrl: undefined,\n  userPrivateKey: undefined,\n  username: null,\n};\n\nconst reducer: Reducer<AppState, APP_ACTION_TYPES> = (\n  state = initialState,\n  action\n) => {\n  const { type } = action;\n\n  switch (type) {\n    case AppActions.SET_BASE_URL: {\n      const {\n        payload: { baseUrl },\n      } = action;\n      return {\n        ...state,\n        baseUrl,\n      };\n    }\n    case AppActions.SET_USERNAME: {\n      const {\n        payload: { username },\n      } = action;\n\n      return {\n        ...state,\n        username,\n      };\n    }\n    case AppActions.SET_ENCODED_USER_PRIVATE_KEY: {\n      const {\n        payload: { userPrivateKey },\n      } = action;\n\n      return {\n        ...state,\n        userPrivateKey,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { Reducer } from 'redux';\nimport {\n  AssetClaimActions,\n  CLAIM_ASSET_ACTION_TYPES,\n} from '../actions/asset-claim';\n\nexport interface AssetClaimState {\n  isLoading: boolean;\n  isError: boolean;\n  error?: Error;\n  txId?: string;\n}\n\nconst initialState: AssetClaimState = {\n  isLoading: false,\n  isError: false,\n};\n\nconst reducer: Reducer<AssetClaimState, CLAIM_ASSET_ACTION_TYPES> = (\n  state = initialState,\n  action\n) => {\n  const { type } = action;\n\n  switch (type) {\n    case AssetClaimActions.CLAIM_ASSET: {\n      return {\n        ...initialState,\n        isLoading: true,\n      };\n    }\n    case AssetClaimActions.CLAIM_ASSET_SUCCESS: {\n      const {\n        payload: { txId },\n      } = action;\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        txId,\n      };\n    }\n    case AssetClaimActions.CLAIM_ASSET_ERROR: {\n      const {\n        payload: { error },\n      } = action;\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n        error,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { Reducer } from 'redux';\nimport { BaseResourcesTypes } from '@protokol/client';\nimport {\n  COLLECTIONS_ACTION_TYPES,\n  CollectionsActions,\n  CollectionsLoadSuccessActionType,\n} from '../actions/collections';\n\nexport interface CollectionsState {\n  isLoading: boolean;\n  isError: boolean;\n  isLastPage: boolean;\n  error?: Error;\n  query?: BaseResourcesTypes.AllAssetsQuery;\n  assets: BaseResourcesTypes.Assets[][];\n}\n\nconst initialState: CollectionsState = {\n  isLastPage: false,\n  isLoading: false,\n  isError: false,\n  assets: [],\n};\n\nconst reducer: Reducer<CollectionsState, COLLECTIONS_ACTION_TYPES> = (\n  state = initialState,\n  action\n) => {\n  const { type } = action;\n\n  switch (type) {\n    case CollectionsActions.COLLECTIONS_LOAD: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case CollectionsActions.COLLECTIONS_LOAD_SUCCESS: {\n      const {\n        payload: { assets, query, isLastPage },\n      } = action as CollectionsLoadSuccessActionType;\n      const { page } = query;\n      return {\n        ...state,\n        isLoading: false,\n        query,\n        assets: [\n          ...state.assets.slice(0, page! - 1),\n          assets,\n          ...state.assets.slice(page!),\n        ],\n        isLastPage,\n        isError: false,\n        error: undefined,\n      };\n    }\n    case CollectionsActions.COLLECTIONS_LOAD_ERROR: {\n      const {\n        payload: { error },\n      } = action;\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n        error,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { Reducer } from 'redux';\nimport { NodeCryptoConfiguration } from '@arkecosystem/client/dist/resourcesTypes/node';\nimport { NETWORK_ACTION_TYPES, NetworkActions } from '../actions/network';\n\nexport interface NetworkState {\n  isLoading: boolean;\n  isError: boolean;\n  nodeCryptoConfiguration?: NodeCryptoConfiguration;\n  error?: Error;\n}\n\nconst initialState: NetworkState = {\n  isLoading: false,\n  isError: false,\n};\n\nconst reducer: Reducer<NetworkState, NETWORK_ACTION_TYPES> = (\n  state = initialState,\n  action\n) => {\n  const { type } = action;\n\n  switch (type) {\n    case NetworkActions.LOAD_NETWORK_CONFIGURATION: {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    }\n    case NetworkActions.NETWORK_CONFIGURATION_SUCCESS: {\n      const {\n        payload: { nodeCryptoConfiguration },\n      } = action;\n      return {\n        ...state,\n        isLoading: false,\n        nodeCryptoConfiguration,\n      };\n    }\n    case NetworkActions.NETWORK_CONFIGURATION_ERROR: {\n      const {\n        payload: { error },\n      } = action;\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        error,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { Reducer } from 'redux';\nimport { AssetClaimActions } from '../actions/asset-claim';\nimport {\n  TRANSACTION_ACTION_TYPES,\n  TransactionActions,\n} from '../actions/transaction';\n\nexport interface TxState {\n  txId: string;\n  isLoading: boolean;\n  isError: boolean;\n  error?: Error;\n  isConfirmed: boolean;\n}\n\nexport interface TransactionState {\n  transactions: {\n    [txUuid: string]: TxState;\n  };\n}\n\nconst initialState: TransactionState = {\n  transactions: {},\n};\n\nconst reducer: Reducer<TransactionState, TRANSACTION_ACTION_TYPES> = (\n  state = initialState,\n  action\n) => {\n  const { type } = action;\n\n  switch (type) {\n    case TransactionActions.TRANSACTION_WAIT_FOR_CONFIRM: {\n      const {\n        payload: { txId, txUuid },\n      } = action;\n\n      return {\n        ...state,\n        transactions: {\n          ...state.transactions,\n          [txUuid]: {\n            txId,\n            isLoading: true,\n            isConfirmed: false,\n            isError: false,\n          },\n        },\n      };\n    }\n    case TransactionActions.TRANSACTION_CONFIRM_SUCCESS: {\n      const {\n        payload: { txUuid },\n      } = action;\n\n      return {\n        ...state,\n        transactions: {\n          ...state.transactions,\n          [txUuid]: {\n            ...state.transactions[txUuid],\n            isError: false,\n            isLoading: false,\n            isConfirmed: true,\n          },\n        },\n      };\n    }\n    case AssetClaimActions.CLAIM_ASSET_ERROR: {\n      const {\n        payload: { txUuid, error },\n      } = action;\n\n      return {\n        ...state,\n        transactions: {\n          ...state.transactions,\n          [txUuid]: {\n            ...state.transactions[txUuid],\n            isError: true,\n            error,\n            isLoading: false,\n            isConfirmed: false,\n          },\n        },\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { Reducer } from 'redux';\nimport { Wallet } from '@arkecosystem/client';\nimport { WALLETS_ACTION_TYPES, WalletsActions } from '../actions/wallets';\n\nexport interface WalletsState {\n  wallets: {\n    [pubKey: string]: {\n      wallet: Wallet | null;\n      isLoading: boolean;\n      isError: boolean;\n      error?: Error | null;\n    };\n  };\n}\n\nconst initialState: WalletsState = {\n  wallets: {},\n};\n\nconst reducer: Reducer<WalletsState, WALLETS_ACTION_TYPES> = (\n  state = initialState,\n  action\n) => {\n  const { type } = action;\n\n  switch (type) {\n    case WalletsActions.WALLETS_LOAD: {\n      const {\n        payload: { pubKey },\n      } = action;\n\n      return {\n        ...state,\n        wallets: {\n          ...state.wallets,\n          [pubKey]: {\n            isLoading: true,\n            isError: false,\n            error: null,\n            wallet: null,\n          },\n        },\n      };\n    }\n    case WalletsActions.WALLETS_LOAD_SUCCESS: {\n      const {\n        payload: { pubKey, wallet },\n      } = action;\n\n      return {\n        ...state,\n        wallets: {\n          ...state.wallets,\n          [pubKey]: {\n            isLoading: false,\n            isError: false,\n            error: null,\n            wallet,\n          },\n        },\n      };\n    }\n    case WalletsActions.WALLETS_LOAD_ERROR: {\n      const {\n        payload: { pubKey, error },\n      } = action;\n      return {\n        ...state,\n        wallets: {\n          ...state.wallets,\n          [pubKey]: {\n            isLoading: false,\n            wallet: null,\n            isError: true,\n            error,\n          },\n        },\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { combineReducers, ReducersMapObject } from 'redux';\nimport { RootState } from '../types';\nimport app from './app';\nimport assetClaim from './asset-claim';\nimport collections from './collections';\nimport network from './network';\nimport transaction from './transaction';\nimport wallets from './wallets';\n\nexport default combineReducers<RootState>({\n  app,\n  network,\n  assetClaim,\n  transaction,\n  collections,\n  wallets,\n} as ReducersMapObject<RootState>);\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport { createEpicMiddleware } from 'redux-observable';\nimport storage from '../utils/storage-service';\nimport rootEpic from './epics';\nimport rootReducer from './reducers';\nimport connection from './services/protokol-connection';\nimport { RootActions, RootDependencies, RootState } from './types';\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n  }\n}\n\nconst epicMiddleware = createEpicMiddleware<\n  RootActions,\n  RootActions,\n  RootState,\n  RootDependencies\n>({\n  dependencies: {\n    connection,\n    storage: storage(),\n  },\n});\n\nexport default function configureStore() {\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  const store = createStore(\n    rootReducer,\n    composeEnhancers(applyMiddleware(epicMiddleware))\n  );\n\n  epicMiddleware.run(rootEpic);\n  return store;\n}\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { setupConfig } from '@ionic/react';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport configureStore from './store/configure-store';\n\nsetupConfig({\n  mode: 'md',\n});\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t1076,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t1077,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t1078,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t1079,\n\t\t17\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t1080,\n\t\t18\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t1081,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t1082,\n\t\t19\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t1083,\n\t\t20\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t1084,\n\t\t21\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t1085,\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t1086,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t1087,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t1088,\n\t\t23\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t1089,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t1090,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t1091,\n\t\t24\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t1092,\n\t\t25\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t1093,\n\t\t26\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t1094,\n\t\t27\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t1095,\n\t\t28\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t1096,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t1097,\n\t\t14\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t1098,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t1099,\n\t\t29\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t1100,\n\t\t30\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t1101,\n\t\t31\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t1102,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t1103,\n\t\t16\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t1104,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t1105,\n\t\t32\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t1106,\n\t\t33\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t1107,\n\t\t34\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t1108,\n\t\t35\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t1109,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t1110,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t1111,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t1112,\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t1113,\n\t\t15\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t1114,\n\t\t37\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t1115,\n\t\t38\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t1116,\n\t\t39\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t1117,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t1118,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 480;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t1119,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 482;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}